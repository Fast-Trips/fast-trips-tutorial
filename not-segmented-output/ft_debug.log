2017-05-11 13:38:36 [INFO/MainProcess] Reading configuration file /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/tta/input/demand-bigger/config_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Weights =
  user_class     purpose demand_mode_type demand_mode  supply_mode          weight_name  weight_value
0        all  basketball           access        walk  walk_access             time_min             2
1        all  basketball           egress        walk  walk_egress             time_min             2
2        all  basketball          transit     transit    local_bus        wait_time_min             2
3        all  basketball          transit     transit    local_bus  in_vehicle_time_min             1
4        all  basketball         transfer    transfer     transfer     transfer_penalty             5
5        all  basketball         transfer    transfer     transfer        walk_time_min             2
2017-05-11 13:38:36 [DEBUG/MainProcess] Weight types = 
user_class          object
purpose             object
demand_mode_type    object
demand_mode         object
supply_mode         object
weight_name         object
weight_value         int64
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Reading GTFS schedule
2017-05-11 13:38:36 [DEBUG/MainProcess] Stop ID to number correspondence
  stop_id  stop_id_num
0       A            1
1       B            2
2       E            3
3       F            4
4      B1            5
2017-05-11 13:38:36 [DEBUG/MainProcess] stop_id        object
stop_id_num     int64
dtype: object
2017-05-11 13:38:36 [DEBUG/MainProcess] max stop ID number: 8
2017-05-11 13:38:36 [DEBUG/MainProcess] Zone ID to number correspondence
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== STOPS ===========
   location_type stop_id   stop_lat   stop_lon stop_name  stop_id_num
0              0       A  35.782796 -78.670429    Stop A            1
1              0       B  35.781325 -78.666964    Stop B            2
2              0       E  35.784089 -78.669354    Stop E            3
3              0       F  35.781090 -78.659859    Stop F            4
4              0      B1  35.782526 -78.665118   Stop B1            5
2017-05-11 13:38:36 [DEBUG/MainProcess] 
int64
location_type      int64
stop_id           object
stop_lat         float64
stop_lon         float64
stop_name         object
stop_id_num        int64
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       8           stops from                 stops.txt,              stops_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Route ID to number correspondence
  route_id  route_id_num
0     Blue             1
1   Orange             2
2    Green             3
3      Red             4
2017-05-11 13:38:36 [DEBUG/MainProcess] route_id        object
route_id_num     int64
dtype: object
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== ROUTES ===========
  route_id route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num
0     Blue      Route Blue             Blue           3  local_bus       301   transit             1
1   Orange    Route Orange           Orange           3  local_bus       301   transit             2
2    Green     Route Green            Green           3  local_bus       301   transit             3
3      Red       Route Red              Red           3  local_bus       301   transit             4
2017-05-11 13:38:36 [DEBUG/MainProcess] 
route_id            object
route_long_name     object
route_short_name    object
route_type           int64
mode                object
mode_num             int64
mode_type           object
route_id_num         int64
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       4          routes from                routes.txt,             routes_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== AGENCIES ===========
  agency_id            agency_name agency_timezone                    agency_url
0       TTA  TutorialTransitAgency      US/Eastern  http://fast-trips.mtc.ca.gov
2017-05-11 13:38:36 [DEBUG/MainProcess] 
agency_id          object
agency_name        object
agency_timezone    object
agency_url         object
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       1        agencies from                agency.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== FARE ATTRIBUTES ===========
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:36 [DEBUG/MainProcess] 
Series([], dtype: object)
2017-05-11 13:38:36 [INFO/MainProcess] Read       0 fare attributes from       fare_attributes.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== FARE RULES ===========
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:36 [DEBUG/MainProcess] 
Series([], dtype: object)
2017-05-11 13:38:36 [INFO/MainProcess] Read       0      fare rules from            fare_rules.txt,       fare_periods_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_route_id.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] No fare rules so no file /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_fare.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== TRANSFERS ===========
  from_stop_id  min_transfer_time to_stop_id  transfer_type stop2stop  dist from_route_id to_route_id  transfer_penalty
0            B                0.0         B2              0      True   0.4          None        None               1.0
1            B                0.0         B1              0      True   0.3          None        None               1.0
2017-05-11 13:38:36 [DEBUG/MainProcess] 
from_stop_id          object
min_transfer_time    float64
to_stop_id            object
transfer_type          int64
stop2stop               bool
dist                 float64
from_route_id         object
to_route_id           object
transfer_penalty     float64
dtype: object
2017-05-11 13:38:36 [DEBUG/MainProcess] Final
  from_stop_id  min_transfer_time to_stop_id  transfer_type stop2stop  dist from_route_id to_route_id  transfer_penalty  min_transfer_time_min  time_min     time
0            B                0.0         B2              0      True   0.4          None        None               1.0                    0.0       8.0 00:08:00
1            B                0.0         B1              0      True   0.3          None        None               1.0                    0.0       6.0 00:06:00
2017-05-11 13:38:36 [DEBUG/MainProcess] 
from_stop_id                      object
min_transfer_time                float64
to_stop_id                        object
transfer_type                      int64
stop2stop                           bool
dist                             float64
from_route_id                     object
to_route_id                       object
transfer_penalty                 float64
min_transfer_time_min            float64
time_min                         float64
time                     timedelta64[ns]
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       2       transfers from             transfers.txt,          transfers_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== VEHICLES ===========
  vehicle_name  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps
0          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667
2017-05-11 13:38:36 [DEBUG/MainProcess] 
int64
vehicle_name          object
seated_capacity        int64
standing_capacity      int64
max_speed              int64
acceleration         float64
deceleration         float64
dwell_formula         object
capacity               int64
max_speed_fps        float64
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       1        vehicles from           vehicles_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Trip ID to number correspondence
  trip_id  trip_id_num
0      G4            1
1      G3            2
2      G2            3
3      G1            4
4      R2            5
2017-05-11 13:38:36 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_trip_id.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== TRIPS ===========
  direction_id route_id service_id trip_id vehicle_name  trip_id_num  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps
0            1    Green        TTA      G4          bus            1                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667
1            1    Green        TTA      G3          bus            2                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667
2            1    Green        TTA      G2          bus            3                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667
3            1    Green        TTA      G1          bus            4                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667
4            1      Red        TTA      R2          bus            5                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667
2017-05-11 13:38:36 [DEBUG/MainProcess] 
int64
direction_id          object
route_id              object
service_id            object
trip_id               object
vehicle_name          object
trip_id_num            int64
seated_capacity        int64
standing_capacity      int64
max_speed              int64
acceleration         float64
deceleration         float64
dwell_formula         object
capacity               int64
max_speed_fps        float64
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read      10           trips from                 trips.txt,              trips_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Final (10)
  direction_id route_id service_id trip_id vehicle_name  trip_id_num  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num
0            1    Green        TTA      G4          bus            1                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3
1            1    Green        TTA      G3          bus            2                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3
2            1    Green        TTA      G2          bus            3                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3
3            1    Green        TTA      G1          bus            4                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3
4            1      Red        TTA      R2          bus            5                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       Route Red              Red           3  local_bus       301   transit             4
2017-05-11 13:38:36 [DEBUG/MainProcess] 
direction_id          object
route_id              object
service_id            object
trip_id               object
vehicle_name          object
trip_id_num            int64
seated_capacity        int64
standing_capacity      int64
max_speed              int64
acceleration         float64
deceleration         float64
dwell_formula         object
capacity               int64
max_speed_fps        float64
route_long_name       object
route_short_name      object
route_type             int64
mode                  object
mode_num               int64
mode_type             object
route_id_num           int64
dtype: object
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== SERVICE PERIODS ===========
                    end_date  friday  monday  saturday service_id start_date  sunday  thursday  tuesday  wednesday start_date_str end_date_str
0 2015-01-31 23:59:59.999999       1       1         1        TTA 2015-01-01       1         1        1          1       20150101     20151231
2017-05-11 13:38:36 [DEBUG/MainProcess] 
int64
end_date          datetime64[ns]
friday                     int64
monday                     int64
saturday                   int64
service_id                object
start_date        datetime64[ns]
sunday                     int64
thursday                   int64
tuesday                    int64
wednesday                  int64
start_date_str            object
end_date_str              object
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       1 service periods from              calendar.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== STOP TIMES ===========
  arrival_time departure_time drop_off_type pickup_type shape_dist_traveled stop_headsign stop_id  stop_sequence trip_id
0     07:26:00       07:26:00          None        None                None          None      B2              1      G4
1     07:34:00       07:34:00          None        None                None          None      C2              2      G4
2     07:20:00       07:20:00          None        None                None          None      B2              1      G3
3     07:28:00       07:28:00          None        None                None          None      C2              2      G3
4     07:10:00       07:10:00          None        None                None          None      B2              1      G2
2017-05-11 13:38:36 [DEBUG/MainProcess] 
int64
arrival_time           object
departure_time         object
drop_off_type          object
pickup_type            object
shape_dist_traveled    object
stop_headsign          object
stop_id                object
stop_sequence           int64
trip_id                object
dtype: object
2017-05-11 13:38:36 [DEBUG/MainProcess] add_shape_dist_traveled: missing 20 out of 20 shape_dist_traveled values in the stop times dataframe
2017-05-11 13:38:36 [WARNING/MainProcess] Adding shape_dist_traveled in miles
2017-05-11 13:38:36 [DEBUG/MainProcess] add_shape_dist_traveled() stop_times_df
  arrival_time departure_time drop_off_type pickup_type  shape_dist_traveled stop_headsign stop_id  stop_sequence trip_id null_shape_dist_traveled_bool   stop_lat   stop_lon  stop_seq_prev  stop_sequence_prev  stop_lat_prev  stop_lon_prev  calc shape_dist_traveled
0     07:26:00       07:26:00          None        None              0.00000          None      B2              1      G4                          True  35.779053 -78.667243              0                 NaN            NaN            NaN                   0.00000
1     07:34:00       07:34:00          None        None              0.32001          None      C2              2      G4                          True  35.779584 -78.661572              1                 1.0      35.779053     -78.667243                   0.32001
2     07:20:00       07:20:00          None        None              0.00000          None      B2              1      G3                          True  35.779053 -78.667243              0                 NaN            NaN            NaN                   0.00000
3     07:28:00       07:28:00          None        None              0.32001          None      C2              2      G3                          True  35.779584 -78.661572              1                 1.0      35.779053     -78.667243                   0.32001
4     07:10:00       07:10:00          None        None              0.00000          None      B2              1      G2                          True  35.779053 -78.667243              0                 NaN            NaN            NaN                   0.00000
2017-05-11 13:38:36 [DEBUG/MainProcess] add_shape_dist_traveled() stop_times_df
  arrival_time departure_time drop_off_type pickup_type  shape_dist_traveled stop_headsign stop_id  stop_sequence trip_id
0     07:26:00       07:26:00          None        None              0.00000          None      B2              1      G4
1     07:34:00       07:34:00          None        None              0.32001          None      C2              2      G4
2     07:20:00       07:20:00          None        None              0.00000          None      B2              1      G3
3     07:28:00       07:28:00          None        None              0.32001          None      C2              2      G3
4     07:10:00       07:10:00          None        None              0.00000          None      B2              1      G2
2017-05-11 13:38:36 [DEBUG/MainProcess] Dropping null column [drop_off_type]
2017-05-11 13:38:36 [DEBUG/MainProcess] Dropping null column [pickup_type]
2017-05-11 13:38:36 [DEBUG/MainProcess] Dropping null column [stop_headsign]
2017-05-11 13:38:36 [DEBUG/MainProcess] next stop arrival:
   trip_id_num  stop_sequence   next_stop_arrival
0            1              0 2016-01-01 07:26:00
1            1              1 2016-01-01 07:34:00
2            2              0 2016-01-01 07:20:00
3            2              1 2016-01-01 07:28:00
4            3              0 2016-01-01 07:10:00

2017-05-11 13:38:36 [DEBUG/MainProcess] Final
  arrival_time departure_time  shape_dist_traveled stop_id  stop_sequence trip_id  arrival_time_min  departure_time_min  stop_id_num  trip_id_num  original_travel_time  travel_time  travel_time_sec  dwell_time  dwell_time_sec
0     07:26:00       07:26:00              0.00000      B2              1      G4             446.0               446.0            6            1              00:08:00     00:08:00            480.0      0 days             0.0
1     07:34:00       07:34:00              0.32001      C2              2      G4             454.0               454.0            7            1                   NaT          NaT              NaN      0 days             0.0
2     07:20:00       07:20:00              0.00000      B2              1      G3             440.0               440.0            6            2              00:08:00     00:08:00            480.0      0 days             0.0
3     07:28:00       07:28:00              0.32001      C2              2      G3             448.0               448.0            7            2                   NaT          NaT              NaN      0 days             0.0
4     07:10:00       07:10:00              0.00000      B2              1      G2             430.0               430.0            6            3              00:08:00     00:08:00            480.0      0 days             0.0
arrival_time             datetime64[ns]
departure_time           datetime64[ns]
shape_dist_traveled             float64
stop_id                          object
stop_sequence                     int64
trip_id                          object
arrival_time_min                float64
departure_time_min              float64
stop_id_num                       int64
trip_id_num                       int64
original_travel_time    timedelta64[ns]
travel_time             timedelta64[ns]
travel_time_sec                 float64
dwell_time              timedelta64[ns]
dwell_time_sec                  float64
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read      20      stop times from            stop_times.txt,         stop_times_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Dropping non-numeric trip info
   trip_id_num  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps  mode_num  route_id_num
0            1                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       301             3
1            2                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       301             3
2            3                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       301             3
3            4                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       301             3
4            5                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       301             4
2017-05-11 13:38:36 [DEBUG/MainProcess] 
   trip_id_num  seated_capacity  standing_capacity  max_speed  acceleration  deceleration  capacity  max_speed_fps  mode_num  route_id_num
0            1                5                  5         25           3.4           4.0        10      36.666667       301             3
1            2                5                  5         25           3.4           4.0        10      36.666667       301             3
2            3                5                  5         25           3.4           4.0        10      36.666667       301             3
3            4                5                  5         25           3.4           4.0        10      36.666667       301             3
4            5                5                  5         25           3.4           4.0        10      36.666667       301             4
2017-05-11 13:38:36 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_trip_info.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_supply_mode_id.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== WALK ACCESS ===========
  taz stop_id direction  dist
0   O       A    access   0.2
1   O       E    access   0.1
2   D      C1    egress   0.3
3   D      C2    egress   0.1
4   D       F    egress   0.5
2017-05-11 13:38:36 [DEBUG/MainProcess] As read
taz           object
stop_id       object
direction     object
dist         float64
dtype: object
2017-05-11 13:38:36 [DEBUG/MainProcess] Final
taz                   object
stop_id               object
direction             object
dist                 float64
time_min             float64
time         timedelta64[ns]
dtype: object
2017-05-11 13:38:36 [INFO/MainProcess] Read       5     walk access from        walk_access_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== DAPS ===========
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:36 [DEBUG/MainProcess] 
Series([], dtype: object)
2017-05-11 13:38:36 [INFO/MainProcess] Read       0            DAPs from drive_access_points_ft.txt
2017-05-11 13:38:36 [DEBUG/MainProcess] =========== NO DRIVE ACCESS ===========

2017-05-11 13:38:36 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_stop_id.txt
2017-05-11 13:38:37 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_transfers.txt
2017-05-11 13:38:37 [WARNING/MainProcess] The following 3 stop ids have no walk access: 
  stop_id  taz
1       B  NaN
4      B1  NaN
5      B2  NaN
2017-05-11 13:38:37 [DEBUG/MainProcess] 
   taz_num  supply_mode_num  stop_id_num  start_time_min  end_time_min   level_5  attr_value
0        9              101            1             0.0        1440.0      dist         0.2
1        9              101            1             0.0        1440.0  time_min         4.0
2        9              101            3             0.0        1440.0      dist         0.1
3        9              101            3             0.0        1440.0  time_min         2.0
4       10              201            8             0.0        1440.0      dist         0.3
2017-05-11 13:38:37 [DEBUG/MainProcess] 
   taz_num  supply_mode_num  stop_id_num  start_time_min  end_time_min   level_5  attr_value
5       10              201            8             0.0        1440.0  time_min         6.0
6       10              201            7             0.0        1440.0      dist         0.1
7       10              201            7             0.0        1440.0  time_min         2.0
8       10              201            4             0.0        1440.0      dist         0.5
9       10              201            4             0.0        1440.0  time_min        10.0
2017-05-11 13:38:37 [DEBUG/MainProcess] Wrote /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_intermediate_access_egress.txt
2017-05-11 13:38:37 [INFO/MainProcess] -------- Reading demand --------
2017-05-11 13:38:37 [INFO/MainProcess] Capacity constraint? 1
2017-05-11 13:38:37 [DEBUG/MainProcess] =========== TRIP LIST ===========
          person_id person_trip_id o_taz d_taz     mode     purpose departure_time arrival_time time_target  vot
0            Tuffie              1     O     D  transit  basketball        7:00:00      8:00:00   departure   10
1           Rameses              1     O     D  transit  basketball        7:00:00      8:00:00   departure   10
2    Michael Jordan              1     O     D  transit  basketball        7:00:00      8:00:00   departure   10
3  Jerry Stackhouse              1     O     D  transit  basketball        7:00:00      8:00:00   departure   10
4        Dean Smith              1     O     D  transit  basketball        7:00:00      8:00:00   departure   10
2017-05-11 13:38:37 [DEBUG/MainProcess] 
int64
person_id         object
person_trip_id    object
o_taz             object
d_taz             object
mode              object
purpose           object
departure_time    object
arrival_time      object
time_target       object
vot                int64
dtype: object
2017-05-11 13:38:37 [INFO/MainProcess] Read      26    person trips from             trip_list.txt
2017-05-11 13:38:37 [DEBUG/MainProcess] =========== PERSONS ===========
          person_id    hh_id  person_id_num
0           Rameses  Tarheel              1
1    Michael Jordan  Tarheel              2
2  Jerry Stackhouse  Tarheel              3
3        Dean Smith  Tarheel              4
4      Vince Carter  Tarheel              5
2017-05-11 13:38:37 [DEBUG/MainProcess] 
int64
person_id        object
hh_id            object
person_id_num     int64
dtype: object
2017-05-11 13:38:37 [INFO/MainProcess] Read      26         persons from                person.txt
2017-05-11 13:38:37 [DEBUG/MainProcess] =========== HOUSEHOLDS ===========
      hh_id  hh_vehicles
0  Wolfpack            1
1  Tarheels            0
2    Devils            2
2017-05-11 13:38:37 [DEBUG/MainProcess] 
int64
hh_id          object
hh_vehicles     int64
dtype: object
2017-05-11 13:38:37 [INFO/MainProcess] Read       3      households from             household.txt
2017-05-11 13:38:37 [DEBUG/MainProcess] Have 26 person trips
2017-05-11 13:38:37 [DEBUG/MainProcess] Demand mode types by class & purpose: 
  user_class     purpose demand_mode_type demand_mode
0        all  basketball          transit     transit
1        all  basketball           access        walk
2        all  basketball           egress        walk
2017-05-11 13:38:37 [DEBUG/MainProcess] verify_weight_config:
  user_class     purpose demand_mode_type demand_mode  supply_mode          weight_name  weight_value
0        all  basketball           access        walk  walk_access             time_min             2
1        all  basketball           egress        walk  walk_egress             time_min             2
2        all  basketball          transit     transit    local_bus        wait_time_min             2
3        all  basketball          transit     transit    local_bus  in_vehicle_time_min             1
4        all  basketball         transfer    transfer     transfer     transfer_penalty             5
5        all  basketball         transfer    transfer     transfer        walk_time_min             2
2017-05-11 13:38:37 [DEBUG/MainProcess] demand_modes x weights: 
  user_class     purpose demand_mode_type demand_mode  supply_mode          weight_name  weight_value
0        all  basketball          transit     transit    local_bus        wait_time_min             2
1        all  basketball          transit     transit    local_bus  in_vehicle_time_min             1
2        all  basketball           access        walk  walk_access             time_min             2
3        all  basketball           egress        walk  walk_egress             time_min             2
2017-05-11 13:38:37 [DEBUG/MainProcess] trip_list_df head=
          person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class
0            Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all
1           Rameses              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 2             480.0               420.0   Tarheel              1          NaN          9         10      transit        walk        walk    False        all
2    Michael Jordan              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 3             480.0               420.0   Tarheel              2          NaN          9         10      transit        walk        walk    False        all
3  Jerry Stackhouse              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 4             480.0               420.0   Tarheel              3          NaN          9         10      transit        walk        walk    False        all
4        Dean Smith              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 5             480.0               420.0   Tarheel              4          NaN          9         10      transit        walk        walk    False        all
2017-05-11 13:38:37 [DEBUG/MainProcess] implicit demand_modes x weights: 
  user_class     purpose demand_mode demand_mode_type supply_mode       weight_name  weight_value
0        all  basketball    transfer         transfer    transfer  transfer_penalty             5
1        all  basketball    transfer         transfer    transfer     walk_time_min             2
2017-05-11 13:38:37 [DEBUG/MainProcess] uc_purp_index: 
  user_class     purpose
0        all  basketball
2017-05-11 13:38:37 [DEBUG/MainProcess] transfer_penaltes: 
  demand_mode demand_mode_type supply_mode       weight_name user_class     purpose  weight_value
0    transfer         transfer    transfer  transfer_penalty        all  basketball             5
2017-05-11 13:38:37 [DEBUG/MainProcess] transfer_penalty_check: 
  user_class     purpose demand_mode demand_mode_type supply_mode       weight_name  weight_value
0        all  basketball    transfer         transfer    transfer  transfer_penalty             5
2017-05-11 13:38:37 [DEBUG/MainProcess] Adding capacity-constraint weights:
  user_class     purpose demand_mode demand_mode_type supply_mode  weight_name  weight_value
2        all  basketball     transit          transit   local_bus  at_capacity          9999
2017-05-11 13:38:37 [DEBUG/MainProcess] PathSet weights: 
  demand_mode demand_mode_type     purpose  supply_mode user_class          weight_name  weight_value  supply_mode_num
0        walk           access  basketball  walk_access        all             time_min             2              101
1        walk           egress  basketball  walk_egress        all             time_min             2              201
2    transfer         transfer  basketball     transfer        all     transfer_penalty             5                1
3    transfer         transfer  basketball     transfer        all        walk_time_min             2                1
4     transit          transit  basketball    local_bus        all          at_capacity          9999              301
5     transit          transit  basketball    local_bus        all  in_vehicle_time_min             1              301
6     transit          transit  basketball    local_bus        all        wait_time_min             2              301
2017-05-11 13:38:37 [DEBUG/MainProcess] PathSet.WEIGHTS_DF with fare weights: 
  demand_mode demand_mode_type     purpose  supply_mode  supply_mode_num user_class          weight_name  weight_value
0        walk           access  basketball  walk_access              101        all             time_min           2.0
1        walk           egress  basketball  walk_egress              201        all             time_min           2.0
2    transfer         transfer  basketball     transfer                1        all     transfer_penalty           5.0
3    transfer         transfer  basketball     transfer                1        all        walk_time_min           2.0
4     transit          transit  basketball    local_bus              301        all          at_capacity        9999.0
5     transit          transit  basketball    local_bus              301        all  in_vehicle_time_min           1.0
6     transit          transit  basketball    local_bus              301        all        wait_time_min           2.0
4     transit          transit  basketball    local_bus              301        all                 fare          -1.0
2017-05-11 13:38:37 [INFO/MainProcess] Have 26 person trips
2017-05-11 13:38:37 [DEBUG/MainProcess] Final trip_list_df
int64
person_id                     object
person_trip_id                object
o_taz                         object
d_taz                         object
mode                          object
purpose                       object
departure_time        datetime64[ns]
arrival_time          datetime64[ns]
time_target                   object
vot                          float64
ID_dupes                        bool
trip_list_id_num               int64
arrival_time_min             float64
departure_time_min           float64
hh_id                         object
person_id_num                  int64
hh_vehicles                  float64
o_taz_num                      int64
d_taz_num                      int64
transit_mode                  object
access_mode                   object
egress_mode                   object
outbound                        bool
user_class                    object
dtype: object
2017-05-11 13:38:37 [DEBUG/MainProcess] 
          person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class
0            Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all
1           Rameses              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 2             480.0               420.0   Tarheel              1          NaN          9         10      transit        walk        walk    False        all
2    Michael Jordan              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 3             480.0               420.0   Tarheel              2          NaN          9         10      transit        walk        walk    False        all
3  Jerry Stackhouse              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 4             480.0               420.0   Tarheel              3          NaN          9         10      transit        walk        walk    False        all
4        Dean Smith              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 5             480.0               420.0   Tarheel              4          NaN          9         10      transit        walk        walk    False        all
2017-05-11 13:38:37 [INFO/MainProcess] Wrote veh_trips_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/veh_trips.csv
2017-05-11 13:38:37 [INFO/MainProcess] ***************************** ITERATION 1 PATHFINDING ITERATION 1 **************************************
2017-05-11 13:38:37 [INFO/MainProcess] **************************** GENERATING PATHS **********************************************************
2017-05-11 13:38:37 [INFO/MainProcess] Finding pathsets for 26 trips
2017-05-11 13:38:37 [DEBUG/MainProcess] Initializing fasttrips extension for process number 0
2017-05-11 13:38:37 [DEBUG/MainProcess] initialize_fasttrips_extension() overcap sum: -20
2017-05-11 13:38:37 [DEBUG/MainProcess] initialize_fasttrips_extension() STOPTIMES_COLUMN_DEPARTURE_TIME_MIN len: 20 mean: 434.400000
2017-05-11 13:38:37 [DEBUG/MainProcess] Tracing assignment of person_id Tuffie and trip 1
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Tuffie trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       1 paths sought,      1 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Rameses trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       2 paths sought,      2 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Michael Jordan trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       3 paths sought,      3 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Jerry Stackhouse trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       4 paths sought,      4 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Dean Smith trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       5 paths sought,      5 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Vince Carter trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       6 paths sought,      6 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Antown Jamison trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       7 paths sought,      7 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Serge Zwikker trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       8 paths sought,      8 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Dante Calabria trip 1
2017-05-11 13:38:37 [INFO/MainProcess]       9 paths sought,      9 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Shammond Williams trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      10 paths sought,     10 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Mrs. Wuf trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      11 paths sought,     11 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Marcus Melvin trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      12 paths sought,     12 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Archie Miller trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      13 paths sought,     13 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Julius Hodge trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      14 paths sought,     14 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Illian Evtimov trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      15 paths sought,     15 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Scooter Sherrill trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      16 paths sought,     16 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Josh Powell trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      17 paths sought,     17 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Anthony Grundy trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      18 paths sought,     18 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Mike K. trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      19 paths sought,     19 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Jeff Capel trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      20 paths sought,     20 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Grant Hill trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      21 paths sought,     21 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Bobby Hurley trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      22 paths sought,     22 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Christian Laettner trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      23 paths sought,     23 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Carlos Boozer trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      24 paths sought,     24 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:37 [DEBUG/MainProcess] Finished finding path for person Jayson Williams trip 1
2017-05-11 13:38:37 [INFO/MainProcess]      25 paths sought,     25 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:38 [DEBUG/MainProcess] Finished finding path for person Shane Battier trip 1
2017-05-11 13:38:38 [INFO/MainProcess]      26 paths sought,     26 paths found of 26 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:38 [INFO/MainProcess] Finished finding     26 passenger paths.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:38 [DEBUG/MainProcess] setup_passenger_pathsets(): pathlist and linklist constructed
2017-05-11 13:38:38 [DEBUG/MainProcess] setup_passenger_pathsets(): pathset_paths_df(26) and pathset_links_df(78) dataframes constructed
2017-05-11 13:38:38 [DEBUG/MainProcess] Have 0 links with no mode number set
2017-05-11 13:38:38 [DEBUG/MainProcess] setup_passenger_pathsets(): pathset_paths_df and pathset_links_df dataframes constructed
2017-05-11 13:38:38 [INFO/MainProcess] Wrote pathset_paths_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathsfound_paths.csv
2017-05-11 13:38:38 [INFO/MainProcess] Wrote pathset_links_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathsfound_links.csv
2017-05-11 13:38:38 [INFO/MainProcess] Wrote performance_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_output_performance.csv
2017-05-11 13:38:38 [INFO/MainProcess] ***************************** ITERATION 1 PATHFINDING ITERATION 1 *** SIMULATING ***********************
2017-05-11 13:38:38 [INFO/MainProcess] Simulation Iteration 0
2017-05-11 13:38:38 [INFO/MainProcess]   Step 1. Find out board/alight times for all pathset links from vehicle times
2017-05-11 13:38:38 [INFO/MainProcess]   Step 2. Flag missed transfer links and paths in the pathsets
2017-05-11 13:38:38 [DEBUG/MainProcess] flag_missed_transfers() pathset_links_df (78):
  person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time
0    Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT
1    Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00
2    Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT
3   Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT
4   Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00
2017-05-11 13:38:38 [DEBUG/MainProcess] Biggest alight_delay = 0.000000
2017-05-11 13:38:38 [DEBUG/MainProcess] person_id                    object
person_trip_id               object
trip_list_id_num              int64
trace                          bool
pf_iteration                float64
pathnum                       int64
linkmode                     object
trip_id_num                 float64
A_id_num                      int64
B_id_num                      int64
A_seq                         int64
B_seq                         int64
pf_A_time            datetime64[ns]
pf_B_time            datetime64[ns]
pf_linktime         timedelta64[ns]
pf_linkfare                 float64
pf_linkcost                 float64
pf_linkdist                 float64
pf_waittime         timedelta64[ns]
linknum                       int64
A_id                         object
B_id                         object
A_lat                       float64
A_lon                       float64
B_lat                       float64
B_lon                       float64
trip_id                      object
route_id                     object
mode_num                    float64
mode                         object
board_time           datetime64[ns]
overcap                     float64
alight_time          datetime64[ns]
alight_delay_min            float64
new_A_time           datetime64[ns]
dtype: object
2017-05-11 13:38:38 [INFO/MainProcess]           flag_missed_transfers found 0 missed transfer trip legs for 0 paths
2017-05-11 13:38:38 [DEBUG/MainProcess] flag_missed_transfers() pathset_paths_df (26):
             person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description  missed_xfer
0               Tuffie              1                 1   True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
1              Rameses              1                 2  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
2       Michael Jordan              1                 3  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
3     Jerry Stackhouse              1                 4  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
4           Dean Smith              1                 5  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
5         Vince Carter              1                 6  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
6       Antown Jamison              1                 7  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
7        Serge Zwikker              1                 8  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
8       Dante Calabria              1                 9  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
9    Shammond Williams              1                10  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
10            Mrs. Wuf              1                11  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
11       Marcus Melvin              1                12  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
12       Archie Miller              1                13  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
13        Julius Hodge              1                14  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
14      Illian Evtimov              1                15  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
15    Scooter Sherrill              1                16  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
16         Josh Powell              1                17  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
17      Anthony Grundy              1                18  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
18             Mike K.              1                19  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
19          Jeff Capel              1                20  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
20          Grant Hill              1                21  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
21        Bobby Hurley              1                22  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
22  Christian Laettner              1                23  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
23       Carlos Boozer              1                24  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
24     Jayson Williams              1                25  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
25       Shane Battier              1                26  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0
2017-05-11 13:38:38 [INFO/MainProcess]   Step 3. Calculate costs and probabilities for all pathset paths
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer
0    Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0
1    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0
2    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: trip_list_df trace
  person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class trace
0    Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all  True
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost columns:
['person_id', 'person_trip_id', 'trip_list_id_num', 'trace', 'pf_iteration', 'pathnum', 'linkmode', 'trip_id_num', 'A_id_num', 'B_id_num', 'A_seq', 'B_seq', 'pf_A_time', 'pf_B_time', 'pf_linktime', 'pf_linkfare', 'pf_linkcost', 'pf_linkdist', 'pf_waittime', 'linknum', 'A_id', 'B_id', 'A_lat', 'A_lon', 'B_lat', 'B_lon', 'trip_id', 'route_id', 'mode_num', 'mode', 'board_time', 'overcap', 'alight_time', 'alight_delay_min', 'new_A_time', 'new_B_time', 'new_linktime', 'new_waittime', 'missed_xfer']
2017-05-11 13:38:38 [INFO/MainProcess]           Adding fares to pathset
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: pathset_links_cost_df trace
  person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first user_class     purpose   vot demand_mode  bump_iter
0    Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True        all  basketball  10.0        walk         -1
1    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1
2    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True        all  basketball  10.0        walk         -1
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: cost_df
    person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first user_class     purpose   vot demand_mode  bump_iter demand_mode_type  supply_mode  supply_mode_num          weight_name  weight_value
0      Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True        all  basketball  10.0        walk         -1           access  walk_access              101             time_min           2.0
26     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit    local_bus              301          at_capacity        9999.0
27     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit    local_bus              301  in_vehicle_time_min           1.0
28     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit    local_bus              301        wait_time_min           2.0
29     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit    local_bus              301                 fare           6.0
130    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True        all  basketball  10.0        walk         -1           egress  walk_egress              201             time_min           2.0
2017-05-11 13:38:38 [DEBUG/MainProcess] Access/egress link_df walk
                                                                 dist  time_min
taz_num supply_mode_num stop_id_num start_time_min end_time_min                
9       101             1           0.0            1440.0         0.2       4.0
                        3           0.0            1440.0         0.1       2.0
10      201             8           0.0            1440.0         0.3       6.0
                        7           0.0            1440.0         0.1       2.0
                        4           0.0            1440.0         0.5      10.0
2017-05-11 13:38:38 [DEBUG/MainProcess] walk link_df =
   supply_mode_num  start_time_min  end_time_min  dist  time_min  A_id_num  B_id_num
0              101             0.0        1440.0   0.2       4.0         9         1
1              101             0.0        1440.0   0.1       2.0         9         3
2              201             0.0        1440.0   0.3       6.0         8        10
3              201             0.0        1440.0   0.1       2.0         7        10
4              201             0.0        1440.0   0.5      10.0         4        10
2017-05-11 13:38:38 [DEBUG/MainProcess] Access/egress link_df drive
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:38 [DEBUG/MainProcess] Dropping 0 rows from cost_accegr_df
2017-05-11 13:38:38 [DEBUG/MainProcess] cost_accegr_df trace
   person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id     A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode board_time  overcap alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first user_class     purpose   vot demand_mode  bump_iter demand_mode_type  supply_mode  supply_mode_num weight_name  weight_value  var_value  start_time_min walk  end_time_min walk  dist walk  time_min walk      departure_time        arrival_time time_target
0     Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0          0.1          NaT        0    O    E       NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        NaT      NaN         NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None       0.1        True        all  basketball  10.0        walk         -1           access  walk_access              101    time_min           2.0        2.0                  0.0             1440.0        0.1            2.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
26    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0          0.5          NaT        2    F    D  35.78109 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        NaT      NaN         NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None       0.5        True        all  basketball  10.0        walk         -1           egress  walk_egress              201    time_min           2.0       10.0                  0.0             1440.0        0.5           10.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
dtypes=
person_id                       object
person_trip_id                  object
trip_list_id_num                 int64
trace                             bool
pf_iteration                   float64
pathnum                          int64
linkmode                        object
trip_id_num                    float64
A_id_num                         int64
B_id_num                         int64
A_seq                            int64
B_seq                            int64
pf_A_time               datetime64[ns]
pf_B_time               datetime64[ns]
pf_linktime            timedelta64[ns]
pf_linkfare                    float64
pf_linkcost                    float64
pf_linkdist                    float64
pf_waittime            timedelta64[ns]
linknum                          int64
A_id                            object
B_id                            object
A_lat                          float64
A_lon                          float64
B_lat                          float64
B_lon                          float64
trip_id                         object
route_id                        object
mode_num                       float64
mode                            object
board_time              datetime64[ns]
overcap                        float64
alight_time             datetime64[ns]
alight_delay_min               float64
new_A_time              datetime64[ns]
new_B_time              datetime64[ns]
new_linktime           timedelta64[ns]
new_waittime           timedelta64[ns]
missed_xfer                      int64
fare                             int64
fare_period                     object
from_fare_period                object
transfer_fare_type              object
transfer_fare                   object
free_transfer                   object
distance                       float64
split_first                       bool
user_class                      object
purpose                         object
vot                            float64
demand_mode                     object
bump_iter                        int64
demand_mode_type                object
supply_mode                     object
supply_mode_num                  int64
weight_name                     object
weight_value                   float64
var_value                      float64
start_time_min walk            float64
end_time_min walk              float64
dist walk                      float64
time_min walk                  float64
departure_time          datetime64[ns]
arrival_time            datetime64[ns]
time_target                     object
dtype: object
2017-05-11 13:38:38 [DEBUG/MainProcess] Missing 0 out of 52 access/egress var_value values
2017-05-11 13:38:38 [DEBUG/MainProcess] cost_trip_df trace
   person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon     B_lat      B_lon trip_id route_id  mode_num       mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first user_class     purpose   vot demand_mode  bump_iter demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value
26    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301          at_capacity        9999.0        NaN
27    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301  in_vehicle_time_min           1.0        NaN
28    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301        wait_time_min           2.0        NaN
29    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301                 fare           6.0        0.0
dtypes=
person_id                      object
person_trip_id                 object
trip_list_id_num                int64
trace                            bool
pf_iteration                  float64
pathnum                         int64
linkmode                       object
trip_id_num                   float64
A_id_num                        int64
B_id_num                        int64
A_seq                           int64
B_seq                           int64
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_linktime           timedelta64[ns]
pf_linkfare                   float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_waittime           timedelta64[ns]
linknum                         int64
A_id                           object
B_id                           object
A_lat                         float64
A_lon                         float64
B_lat                         float64
B_lon                         float64
trip_id                        object
route_id                       object
mode_num                      float64
mode                           object
board_time             datetime64[ns]
overcap                       float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
split_first                      bool
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
bump_iter                       int64
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
dtype: object
2017-05-11 13:38:38 [DEBUG/MainProcess] cost_trip_df trace
   person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon     B_lat      B_lon trip_id route_id  mode_num       mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first user_class     purpose   vot demand_mode  bump_iter demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value  at_capacity
26    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301          at_capacity        9999.0        0.0          0.0
27    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301  in_vehicle_time_min           1.0       12.0          0.0
28    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301        wait_time_min           2.0        0.0          0.0
29    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True        all  basketball  10.0     transit         -1          transit   local_bus              301                 fare           6.0        0.0          0.0
dtypes=
person_id                      object
person_trip_id                 object
trip_list_id_num                int64
trace                            bool
pf_iteration                  float64
pathnum                         int64
linkmode                       object
trip_id_num                   float64
A_id_num                        int64
B_id_num                        int64
A_seq                           int64
B_seq                           int64
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_linktime           timedelta64[ns]
pf_linkfare                   float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_waittime           timedelta64[ns]
linknum                         int64
A_id                           object
B_id                           object
A_lat                         float64
A_lon                         float64
B_lat                         float64
B_lon                         float64
trip_id                        object
route_id                       object
mode_num                      float64
mode                           object
board_time             datetime64[ns]
overcap                       float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
split_first                      bool
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
bump_iter                       int64
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
at_capacity                   float64
dtype: object
2017-05-11 13:38:38 [DEBUG/MainProcess] Missing 0 out of 104 transit trip var_value values
2017-05-11 13:38:38 [DEBUG/MainProcess] add_transfer_attributes: transfer_links_df(0) head(20)=
Empty DataFrame
Columns: [person_id, person_trip_id, trip_list_id_num, trace, pf_iteration, pathnum, linkmode, trip_id_num, A_id_num, B_id_num, A_seq, B_seq, pf_A_time, pf_B_time, pf_linktime, pf_linkfare, pf_linkcost, pf_linkdist, pf_waittime, linknum, A_id, B_id, A_lat, A_lon, B_lat, B_lon, trip_id, route_id, mode_num, mode, board_time, overcap, alight_time, alight_delay_min, new_A_time, new_B_time, new_linktime, new_waittime, missed_xfer, fare, fare_period, from_fare_period, transfer_fare_type, transfer_fare, free_transfer, distance, split_first, user_class, purpose, vot, demand_mode, bump_iter, demand_mode_type, supply_mode, supply_mode_num, weight_name, weight_value, var_value]
Index: []
transfers_df head(20)=
  from_stop_id  min_transfer_time to_stop_id  transfer_type stop2stop  dist from_route_id to_route_id  transfer_penalty  min_transfer_time_min  time_min     time  from_stop_id_num  to_stop_id_num
0            B                0.0         B2              0      True   0.4          None        None               1.0                    0.0       8.0 00:08:00                 2               6
1            B                0.0         B1              0      True   0.3          None        None               1.0                    0.0       6.0 00:06:00                 2               5
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column trip_list_id_num
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column pf_iteration
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column pathnum
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column trip_id_num
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column A_id_num
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column B_id_num
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column A_seq
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column B_seq
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column pf_linkfare
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column pf_linkcost
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column pf_linkdist
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column linknum
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column A_lat
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column A_lon
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column B_lat
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column B_lon
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column mode_num
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column overcap
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column alight_delay_min
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column missed_xfer
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column fare
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column distance
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column vot
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column bump_iter
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column supply_mode_num
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column weight_value
2017-05-11 13:38:38 [DEBUG/MainProcess] Using numeric column var_value
2017-05-11 13:38:38 [DEBUG/MainProcess] Missing 0 out of 0 transfer var_value values
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: cost_df
   person_id person_trip_id  trip_list_id_num trace user_class     purpose   vot  pathnum  linknum demand_mode_type demand_mode  supply_mode  supply_mode_num          weight_name  weight_value  var_value  missed_xfer  bump_iter  fare  sim_cost
0     Tuffie              1                 1  True        all  basketball  10.0        0        0           access        walk  walk_access              101             time_min           2.0        2.0            0         -1     0       4.0
26    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301          at_capacity        9999.0        0.0            0         -1     0       0.0
27    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301  in_vehicle_time_min           1.0       12.0            0         -1     0      12.0
28    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301        wait_time_min           2.0        0.0            0         -1     0       0.0
29    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301                 fare           6.0        0.0            0         -1     0       0.0
26    Tuffie              1                 1  True        all  basketball  10.0        0        2           egress        walk  walk_egress              201             time_min           2.0       10.0            0         -1     0      20.0
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: cost_link_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  linknum  sim_cost
0                 1    Tuffie              1  True        0        0       4.0
1                 1    Tuffie              1  True        0        1      12.0
2                 1    Tuffie              1  True        0        2      20.0
2017-05-11 13:38:38 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first  sim_cost
0    Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True       4.0
1    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True      12.0
2    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True      20.0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() pathset_links_to_use (78) head=
            person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first
0              Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
1              Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
2              Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
3             Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
4             Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
5             Rameses              1                 2  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
6      Michael Jordan              1                 3  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
7      Michael Jordan              1                 3  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
8      Michael Jordan              1                 3  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
9    Jerry Stackhouse              1                 4  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
10   Jerry Stackhouse              1                 4  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
11   Jerry Stackhouse              1                 4  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
12         Dean Smith              1                 5  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
13         Dean Smith              1                 5  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
14         Dean Smith              1                 5  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
15       Vince Carter              1                 6  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
16       Vince Carter              1                 6  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
17       Vince Carter              1                 6  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
18     Antown Jamison              1                 7  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
19     Antown Jamison              1                 7  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
20     Antown Jamison              1                 7  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
21      Serge Zwikker              1                 8  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
22      Serge Zwikker              1                 8  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
23      Serge Zwikker              1                 8  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
24     Dante Calabria              1                 9  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
25     Dante Calabria              1                 9  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
26     Dante Calabria              1                 9  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
27  Shammond Williams              1                10  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True
28  Shammond Williams              1                10  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True
29  Shammond Williams              1                10  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() chunk_list size=26 head=
   trip_list_id_num  chunk_num
0                 1          0
1                 2          0
2                 3          0
3                 4          0
4                 5          0
tail=
    trip_list_id_num  chunk_num
21                22          0
22                23          0
23                24          0
24                25          0
25                26          0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() mem_use=Uknown; please install python package psutil pathset_links_to_use has length 78, head=
  person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode          board_time  overcap         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first  chunk_num
0    Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True          0
1    Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True          0
2    Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress                 NaT      NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        True          0
3   Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access                 NaT      NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        True          0
4   Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus 2016-01-01 07:10:00     -1.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        True          0
2017-05-11 13:38:39 [INFO/MainProcess]           Calculating overlap for chunk    1/   1 (len     78);  mem_use=Uknown; please install python package psutil
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil overlap_df has length 78, head=
  person_id person_trip_id  trip_list_id_num  trace  pathnum  linknum  A_id_num  B_id_num         mode  new_linktime  distance
0    Tuffie              1                 1   True        0        0         9         3  walk_access      00:02:00  0.100000
1    Tuffie              1                 1   True        0        1         3         4    local_bus      00:12:00  0.571158
2    Tuffie              1                 1   True        0        2         4        10  walk_egress      00:10:00  0.500000
3   Rameses              1                 2  False        0        0         9         3  walk_access      00:02:00  0.100000
4   Rameses              1                 2  False        0        1         3         4    local_bus      00:12:00  0.571158
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Added path summed count,time,distance. mem_use=Uknown; please install python package psutil overlap_path_df has length 26, head=
   trip_list_id_num         person_id person_trip_id  trace  pathnum  path_count  path_distance  path_time
0                 1            Tuffie              1   True        0           3       1.171158   00:24:00
1                 2           Rameses              1  False        0           3       1.171158   00:24:00
2                 3    Michael Jordan              1  False        0           3       1.171158   00:24:00
3                 4  Jerry Stackhouse              1  False        0           3       1.171158   00:24:00
4                 5        Dean Smith              1  False        0           3       1.171158   00:24:00
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap(): overlap_df trace
  person_id person_trip_id  trip_list_id_num trace  pathnum_x  linknum_x  A_id_num_x  B_id_num_x       mode_x  new_linktime_x  distance_x  path_count_x  path_distance_x  path_time_x  pathnum_y  linknum_y  A_id_num_y  B_id_num_y       mode_y  new_linktime_y  distance_y  path_count_y  path_distance_y  path_time_y  match  link_prop_x  pathlen_x_y  pathlen_x_y_scale
0    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
1    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
2    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
3    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
4    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      1     0.333333          1.0                1.0
5    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
6    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
7    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
8    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() trace overlap_df
   trip_list_id_num person_id person_trip_id trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1  True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1  True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1  True          0          2     0.333333                1.0  0.333333
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Cartesian product of links. mem_use=Uknown; please install python package psutil overlap_df has length 78, head=
   trip_list_id_num person_id person_trip_id  trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1   True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1   True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1   True          0          2     0.333333                1.0  0.333333
3                 2   Rameses              1  False          0          0     0.333333                1.0  0.333333
4                 2   Rameses              1  False          0          1     0.333333                1.0  0.333333
2017-05-11 13:38:39 [DEBUG/MainProcess] PathSize min=1.000000 max=1.000000
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() overlap_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum_x   PS  ln_PS
0                 1    Tuffie              1  True          0  1.0    0.0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil full_overlap_df has length 26
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_overlap() complete: full_overlap_df head=
    trip_list_id_num           person_id person_trip_id  trace  pathnum  ln_PS
0                  1              Tuffie              1   True        0    0.0
1                  2             Rameses              1  False        0    0.0
2                  3      Michael Jordan              1  False        0    0.0
3                  4    Jerry Stackhouse              1  False        0    0.0
4                  5          Dean Smith              1  False        0    0.0
5                  6        Vince Carter              1  False        0    0.0
6                  7      Antown Jamison              1  False        0    0.0
7                  8       Serge Zwikker              1  False        0    0.0
8                  9      Dante Calabria              1  False        0    0.0
9                 10   Shammond Williams              1  False        0    0.0
10                11            Mrs. Wuf              1  False        0    0.0
11                12       Marcus Melvin              1  False        0    0.0
12                13       Archie Miller              1  False        0    0.0
13                14        Julius Hodge              1  False        0    0.0
14                15      Illian Evtimov              1  False        0    0.0
15                16    Scooter Sherrill              1  False        0    0.0
16                17         Josh Powell              1  False        0    0.0
17                18      Anthony Grundy              1  False        0    0.0
18                19             Mike K.              1  False        0    0.0
19                20          Jeff Capel              1  False        0    0.0
20                21          Grant Hill              1  False        0    0.0
21                22        Bobby Hurley              1  False        0    0.0
22                23  Christian Laettner              1  False        0    0.0
23                24       Carlos Boozer              1  False        0    0.0
24                25     Jayson Williams              1  False        0    0.0
25                26       Shane Battier              1  False        0    0.0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_cost: cost_path_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  sim_cost
0                 1    Tuffie              1  True        0      36.0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
  person_id person_trip_id  trip_list_id_num trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description  missed_xfer  sim_cost  ln_PS
0    Tuffie              1                 1  True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0
2017-05-11 13:38:39 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
  person_id person_trip_id  trip_list_id_num trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0    Tuffie              1                 1  True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:39 [INFO/MainProcess]   Step 4. Choose a path for each passenger from their pathset
2017-05-11 13:38:39 [INFO/MainProcess]           Have     26 total passenger-trips, with      0 chosen paths,      0 fully rejected and     26 needing a choice
2017-05-11 13:38:39 [DEBUG/MainProcess] choose_path() paths_choose_df=
             person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability    chosen  to_choose      rand  prob_cum rand_less
0               Tuffie              1                 1   True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.361877       1.0      True
1              Rameses              1                 2  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.415431       1.0      True
2       Michael Jordan              1                 3  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.885337       1.0      True
3     Jerry Stackhouse              1                 4  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.392154       1.0      True
4           Dean Smith              1                 5  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.397194       1.0      True
5         Vince Carter              1                 6  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.035106       1.0      True
6       Antown Jamison              1                 7  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.115007       1.0      True
7        Serge Zwikker              1                 8  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.982027       1.0      True
8       Dante Calabria              1                 9  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.040710       1.0      True
9    Shammond Williams              1                10  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.339638       1.0      True
10            Mrs. Wuf              1                11  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.931143       1.0      True
11       Marcus Melvin              1                12  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.069582       1.0      True
12       Archie Miller              1                13  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.950283       1.0      True
13        Julius Hodge              1                14  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.743539       1.0      True
14      Illian Evtimov              1                15  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.841741       1.0      True
15    Scooter Sherrill              1                16  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.028982       1.0      True
16         Josh Powell              1                17  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.182257       1.0      True
17      Anthony Grundy              1                18  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.653590       1.0      True
18             Mike K.              1                19  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.952644       1.0      True
19          Jeff Capel              1                20  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.742470       1.0      True
20          Grant Hill              1                21  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.233132       1.0      True
21        Bobby Hurley              1                22  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.482191       1.0      True
22  Christian Laettner              1                23  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.212333       1.0      True
23       Carlos Boozer              1                24  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.872475       1.0      True
24     Jayson Williams              1                25  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.207082       1.0      True
25       Shane Battier              1                26  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  unchosen          1  0.706687       1.0      True

2017-05-11 13:38:39 [DEBUG/MainProcess] choose_path() pathset_paths_df=
  person_id person_trip_id  trip_list_id_num trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability         chosen  to_choose      rand  chosen_idx
0    Tuffie              1                 1  True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0          1  0.361877           0

2017-05-11 13:38:39 [INFO/MainProcess]           Chose 26 out of 26 paths from the pathsets => total chosen 26
2017-05-11 13:38:39 [INFO/MainProcess]   Step 5. Put passenger paths on transit vehicles to get vehicle boards/alights/load and assess capacity constraints
2017-05-11 13:38:39 [INFO/MainProcess]   Step 5.1 Put passengers on transit vehicles.
2017-05-11 13:38:39 [DEBUG/MainProcess] veh_loaded_df with onboard>0: (showing head)
    trip_id_num  stop_sequence        arrival_time      departure_time  shape_dist_traveled stop_id trip_id  arrival_time_min  departure_time_min  stop_id_num  original_travel_time  travel_time  travel_time_sec  dwell_time  dwell_time_sec direction_id route_id service_id vehicle_name  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num  max_stop_seq trip_departure_time  friction  standees  overcap  msa_boards  msa_alights  msa_onboard  msa_friction  msa_standees  msa_overcap  boards  alights  onboard  overcap_frac
16            9              1 2016-01-01 07:10:00 2016-01-01 07:10:00                  0.0       E      O1             430.0               430.0            3              00:12:00     00:12:00            720.0      0 days             0.0            1   Orange        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667    Route Orange           Orange           3  local_bus       301   transit             2             2 2016-01-01 07:10:00         0         0       16         0.0          0.0          0.0           0.0           0.0         -1.0      26        0       26      0.615385
2017-05-11 13:38:39 [DEBUG/MainProcess] after putting passengers on vehicles, veh_loaded_df with onboard.head(30) = 
   route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
16   Orange      O1              1       E        10      26        0       26       16      0.615385
2017-05-11 13:38:39 [INFO/MainProcess]   Step 5.2 Capacity constraints on transit vehicles.
2017-05-11 13:38:39 [INFO/MainProcess]           Bumping one at a time? false
2017-05-11 13:38:39 [DEBUG/MainProcess] pathset_links_df.head(20)=
           person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen
0             Tuffie              1                 1        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
1             Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
2             Tuffie              1                 1        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
3            Rameses              1                 2        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
4            Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
5            Rameses              1                 2        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
6     Michael Jordan              1                 3        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
7     Michael Jordan              1                 3        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
8     Michael Jordan              1                 3        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
9   Jerry Stackhouse              1                 4        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
10  Jerry Stackhouse              1                 4        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
11  Jerry Stackhouse              1                 4        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
12        Dean Smith              1                 5        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
13        Dean Smith              1                 5        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
14        Dean Smith              1                 5        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
15      Vince Carter              1                 6        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
16      Vince Carter              1                 6        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
17      Vince Carter              1                 6        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
18    Antown Jamison              1                 7        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
19    Antown Jamison              1                 7        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385         NaN        NaN  iter1.01 sim0
2017-05-11 13:38:39 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() 1 vehicle trip/stops over capacity: (showing head)
   route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
16   Orange      O1              1       E        10      26        0       26       16      0.615385
2017-05-11 13:38:39 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() bump_stops_df iter=1 pf_iter=1 sim_iter=0 bump_iter=0 (1 rows, showing head):
  route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
0   Orange      O1              1       E        10      26        0       26       16      0.615385
2017-05-11 13:38:39 [INFO/MainProcess]           Need to bump 16 passengers from 1 trip-stops
2017-05-11 13:38:39 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() Trips with bump stops:
  route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
0   Orange      O1              1       E        10      26        0       26       16      0.615385
1   Orange      O1              2       F        10       0       26        0      -10      0.000000

2017-05-11 13:38:39 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() bumpstop_boards (26 rows, showing head):
             person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen  bump_index
0        Shane Battier              1                26        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           0
1      Jayson Williams              1                25        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           1
2        Carlos Boozer              1                24        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           2
3   Christian Laettner              1                23        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           3
4         Bobby Hurley              1                22        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           4
5           Grant Hill              1                21        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           5
6           Jeff Capel              1                20        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           6
7              Mike K.              1                19        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           7
8       Anthony Grundy              1                18        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           8
9          Josh Powell              1                17        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0           9
10    Scooter Sherrill              1                16        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0          10
11      Illian Evtimov              1                15        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0          11
12        Julius Hodge              1                14        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0          12
13       Archie Miller              1                13        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0          13
14       Marcus Melvin              1                12        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0          14
15            Mrs. Wuf              1                11        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385      bumped        0.0  iter1.01 sim0          15
16   Shammond Williams              1                10        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          16
17      Dante Calabria              1                 9        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          17
18       Serge Zwikker              1                 8        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          18
19      Antown Jamison              1                 7        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          19
20        Vince Carter              1                 6        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          20
21          Dean Smith              1                 5        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          21
22    Jerry Stackhouse              1                 4        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          22
23      Michael Jordan              1                 3        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          23
24             Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          24
25              Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0          25
2017-05-11 13:38:39 [DEBUG/MainProcess] new_bump_wait (1 rows, showing head):
  trip_id  stop_sequence  stop_id_num           pf_A_time  trip_id_num
0      O1              1            3 2016-01-01 07:10:00            9
2017-05-11 13:38:39 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() bump_wait_df (2 rows, showing head):
            pf_A_time  pf_A_time_min  stop_id_num  stop_sequence trip_id  trip_id_num
0 2016-01-01 07:10:00          430.0            3              1      O1            9
0 2016-01-01 07:10:00            NaN            3              1      O1            9
2017-05-11 13:38:39 [DEBUG/MainProcess]   person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen
0    Tuffie              1                 1        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
1    Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0
2    Tuffie              1                 1        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
3   Rameses              1                 2        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
4   Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00     16.0      0.615385     boarded        NaN  iter1.01 sim0
2017-05-11 13:38:39 [INFO/MainProcess]         -> completed loop bump_iter 0 and bumped 16 chosen paths
2017-05-11 13:38:39 [INFO/MainProcess]   Step 5.1 Put passengers on transit vehicles.
2017-05-11 13:38:39 [DEBUG/MainProcess] veh_loaded_df with onboard>0: (showing head)
    trip_id_num  stop_sequence        arrival_time      departure_time  shape_dist_traveled stop_id trip_id  arrival_time_min  departure_time_min  stop_id_num  original_travel_time  travel_time  travel_time_sec  dwell_time  dwell_time_sec direction_id route_id service_id vehicle_name  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num  max_stop_seq trip_departure_time  friction  standees  overcap  msa_boards  msa_alights  msa_onboard  msa_friction  msa_standees  msa_overcap  overcap_frac  boards  alights  onboard
16            9              1 2016-01-01 07:10:00 2016-01-01 07:10:00                  0.0       E      O1             430.0               430.0            3              00:12:00     00:12:00            720.0      0 days             0.0            1   Orange        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667    Route Orange           Orange           3  local_bus       301   transit             2             2 2016-01-01 07:10:00         0         0        0         0.0          0.0          0.0           0.0           0.0         -1.0           0.0      10        0       10
2017-05-11 13:38:39 [DEBUG/MainProcess] after putting passengers on vehicles, veh_loaded_df with onboard.head(30) = 
   route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
16   Orange      O1              1       E        10      10        0       10        0           0.0
2017-05-11 13:38:39 [INFO/MainProcess]   Step 5.2 Capacity constraints on transit vehicles.
2017-05-11 13:38:39 [DEBUG/MainProcess] pathset_links_df.head(20)=
           person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen
0             Tuffie              1                 1        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
1             Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
2             Tuffie              1                 1        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
3            Rameses              1                 2        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
4            Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
5            Rameses              1                 2        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
6     Michael Jordan              1                 3        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
7     Michael Jordan              1                 3        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
8     Michael Jordan              1                 3        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
9   Jerry Stackhouse              1                 4        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
10  Jerry Stackhouse              1                 4        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
11  Jerry Stackhouse              1                 4        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
12        Dean Smith              1                 5        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
13        Dean Smith              1                 5        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
14        Dean Smith              1                 5        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
15      Vince Carter              1                 6        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
16      Vince Carter              1                 6        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
17      Vince Carter              1                 6        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
18    Antown Jamison              1                 7        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
19    Antown Jamison              1                 7        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
2017-05-11 13:38:39 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() 0 vehicle trip/stops over capacity: (showing head)
Empty DataFrame
Columns: [route_id, trip_id, stop_sequence, stop_id, capacity, boards, alights, onboard, overcap, overcap_frac]
Index: []
2017-05-11 13:38:39 [INFO/MainProcess]           No over-capacity vehicles
2017-05-11 13:38:39 [DEBUG/MainProcess] Bump_wait_df:
            pf_A_time  pf_A_time_min  stop_id_num  stop_sequence trip_id  trip_id_num
0 2016-01-01 07:10:00          430.0            3              1      O1            9
2017-05-11 13:38:39 [INFO/MainProcess]   Step 6. Update dwell and travel times for transit vehicles
2017-05-11 13:38:39 [DEBUG/MainProcess] Trip.update_trip_times() trips_df has 20 rows
2017-05-11 13:38:39 [DEBUG/MainProcess] dwell_formula 3 + 2*[boards] + 1.5*[alights] has 20 rows
2017-05-11 13:38:39 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence  max_stop_seq next_does_stop next_is_last_stop
0            1              0             2          False             False
1            1              1             2          False              True
2            2              0             2          False             False
3            2              1             2          False              True
4            3              0             2          False             False

2017-05-11 13:38:39 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell
0            1              1 2016-01-01 07:26:00          00:08:03                   3.0          00:00:03
1            1              2 2016-01-01 07:26:00          00:08:06                   3.0          00:00:03
2            2              1 2016-01-01 07:20:00          00:08:03                   3.0          00:00:03
3            2              2 2016-01-01 07:20:00          00:08:06                   3.0          00:00:03
4            3              1 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03

2017-05-11 13:38:40 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell   trip_arrival_time    new_arrival_time
0            1              2 2016-01-01 07:26:00          00:08:03                   3.0          00:00:03 2016-01-01 07:25:57 2016-01-01 07:34:00
1            1              3 2016-01-01 07:26:00          00:08:06                   3.0          00:00:03 2016-01-01 07:25:57 2016-01-01 07:34:03
2            2              2 2016-01-01 07:20:00          00:08:03                   3.0          00:00:03 2016-01-01 07:19:57 2016-01-01 07:28:00
3            2              3 2016-01-01 07:20:00          00:08:06                   3.0          00:00:03 2016-01-01 07:19:57 2016-01-01 07:28:03
4            3              2 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03 2016-01-01 07:09:57 2016-01-01 07:18:00

2017-05-11 13:38:40 [DEBUG/MainProcess] Trips:update_trip_times() trips_df:
   trip_id  trip_id_num  stop_sequence        arrival_time      departure_time  max_speed_fps  acceleration  deceleration  seated_capacity  boards  alights  onboard  standees  friction does_stop next_does_stop next_is_last_stop  accel_secs  decel_secs  dwell_time_sec  travel_dwell_sec  travel_dwell_sec_cum    new_arrival_time
0       G4            1              1 2016-01-01 07:25:57 2016-01-01 07:26:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
1       G4            1              2 2016-01-01 07:34:00 2016-01-01 07:34:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:34:00
2       G3            2              1 2016-01-01 07:19:57 2016-01-01 07:20:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
3       G3            2              2 2016-01-01 07:28:00 2016-01-01 07:28:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:28:00
4       G2            3              1 2016-01-01 07:09:57 2016-01-01 07:10:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
5       G2            3              2 2016-01-01 07:18:00 2016-01-01 07:18:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:18:00
6       G1            4              1 2016-01-01 07:01:57 2016-01-01 07:02:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
7       G1            4              2 2016-01-01 07:10:00 2016-01-01 07:10:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:10:00
8       R2            5              1 2016-01-01 07:17:57 2016-01-01 07:18:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             363.0                 363.0                 NaT
9       R2            5              2 2016-01-01 07:24:00 2016-01-01 07:24:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 366.0 2016-01-01 07:24:00
10      B1            6              1 2016-01-01 06:55:57 2016-01-01 06:56:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
11      B1            6              2 2016-01-01 07:04:00 2016-01-01 07:04:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:04:00
12      B2            7              1 2016-01-01 07:03:57 2016-01-01 07:04:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
13      B2            7              2 2016-01-01 07:12:00 2016-01-01 07:12:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:12:00
14      B3            8              1 2016-01-01 07:09:57 2016-01-01 07:10:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT

2017-05-11 13:38:40 [DEBUG/MainProcess] trips_df.dtypes=
trip_id_num                       int64
stop_sequence                     int64
arrival_time             datetime64[ns]
departure_time           datetime64[ns]
shape_dist_traveled             float64
stop_id                          object
trip_id                          object
arrival_time_min                float64
departure_time_min              float64
stop_id_num                       int64
original_travel_time    timedelta64[ns]
travel_time             timedelta64[ns]
travel_time_sec                 float64
dwell_time              timedelta64[ns]
dwell_time_sec                  float64
direction_id                     object
route_id                         object
service_id                       object
vehicle_name                     object
seated_capacity                   int64
standing_capacity                 int64
max_speed                         int64
acceleration                    float64
deceleration                    float64
dwell_formula                    object
capacity                          int64
max_speed_fps                   float64
route_long_name                  object
route_short_name                 object
route_type                        int64
mode                             object
mode_num                          int64
mode_type                        object
route_id_num                      int64
max_stop_seq                      int64
trip_departure_time      datetime64[ns]
friction                        float64
standees                          int64
overcap                           int64
msa_boards                      float64
msa_alights                     float64
msa_onboard                     float64
msa_friction                    float64
msa_standees                    float64
msa_overcap                     float64
overcap_frac                    float64
boards                            int64
alights                           int64
onboard                           int64
dtype: object

2017-05-11 13:38:40 [INFO/MainProcess] Simulation Iteration 1
2017-05-11 13:38:40 [INFO/MainProcess]   Step 1. Find out board/alight times for all pathset links from vehicle times
2017-05-11 13:38:40 [INFO/MainProcess]   Step 2. Flag missed transfer links and paths in the pathsets
2017-05-11 13:38:40 [DEBUG/MainProcess] flag_missed_transfers() pathset_links_df (78):
  person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance split_first  sim_cost         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time
0    Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access     0        None             None               None          None          None  0.100000        True       4.0  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT
1    Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus     0        None             None               None          None          None  0.571158        True      12.0  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2    Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress     0        None             None               None          None          None  0.500000        True      20.0  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT
3   Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access     0        None             None               None          None          None  0.100000        True       4.0  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT
4   Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus     0        None             None               None          None          None  0.571158        True      12.0  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2017-05-11 13:38:40 [DEBUG/MainProcess] Biggest alight_delay = 0.000000
2017-05-11 13:38:40 [DEBUG/MainProcess] person_id                      object
person_trip_id                 object
trip_list_id_num                int64
trace                            bool
pf_iteration                  float64
pathnum                         int64
linkmode                       object
trip_id_num                   float64
A_id_num                        int64
B_id_num                        int64
A_seq                           int64
B_seq                           int64
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_linktime           timedelta64[ns]
pf_linkfare                   float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_waittime           timedelta64[ns]
linknum                         int64
A_id                           object
B_id                           object
A_lat                         float64
A_lon                         float64
B_lat                         float64
B_lon                         float64
trip_id                        object
route_id                       object
mode_num                      float64
mode                           object
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
split_first                      bool
sim_cost                      float64
chosen                         object
bump_iter                     float64
board_state                    object
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
dtype: object
2017-05-11 13:38:40 [INFO/MainProcess]           flag_missed_transfers found 0 missed transfer trip legs for 0 paths
2017-05-11 13:38:40 [DEBUG/MainProcess] flag_missed_transfers() pathset_paths_df (26):
             person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description  sim_cost  ln_PS  logsum_component        logsum  probability         chosen  bump_iter  missed_xfer
0               Tuffie              1                 1   True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
1              Rameses              1                 2  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
2       Michael Jordan              1                 3  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
3     Jerry Stackhouse              1                 4  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
4           Dean Smith              1                 5  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
5         Vince Carter              1                 6  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
6       Antown Jamison              1                 7  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
7        Serge Zwikker              1                 8  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
8       Dante Calabria              1                 9  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
9    Shammond Williams              1                10  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        NaN            0
10            Mrs. Wuf              1                11  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
11       Marcus Melvin              1                12  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
12       Archie Miller              1                13  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
13        Julius Hodge              1                14  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
14      Illian Evtimov              1                15  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
15    Scooter Sherrill              1                16  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
16         Josh Powell              1                17  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
17      Anthony Grundy              1                18  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
18             Mike K.              1                19  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
19          Jeff Capel              1                20  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
20          Grant Hill              1                21  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
21        Bobby Hurley              1                22  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
22  Christian Laettner              1                23  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
23       Carlos Boozer              1                24  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
24     Jayson Williams              1                25  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
25       Shane Battier              1                26  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D      36.0    0.0      1.522998e-08  1.522998e-08          1.0  iter1.01 sim0        0.0            0
2017-05-11 13:38:40 [INFO/MainProcess]   Step 3. Calculate costs and probabilities for all pathset paths
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer
0    Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access     0        None             None               None          None          None        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0
1    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus     0        None             None               None          None          None        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0
2    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress     0        None             None               None          None          None        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: trip_list_df trace
  person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class trace
0    Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all  True
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost columns:
['person_id', 'person_trip_id', 'trip_list_id_num', 'trace', 'pf_iteration', 'pathnum', 'linkmode', 'trip_id_num', 'A_id_num', 'B_id_num', 'A_seq', 'B_seq', 'pf_A_time', 'pf_B_time', 'pf_linktime', 'pf_linkfare', 'pf_linkcost', 'pf_linkdist', 'pf_waittime', 'linknum', 'A_id', 'B_id', 'A_lat', 'A_lon', 'B_lat', 'B_lon', 'trip_id', 'route_id', 'mode_num', 'mode', 'fare', 'fare_period', 'from_fare_period', 'transfer_fare_type', 'transfer_fare', 'free_transfer', 'split_first', 'chosen', 'bump_iter', 'board_state', 'board_time', 'overcap', 'overcap_frac', 'alight_time', 'alight_delay_min', 'new_A_time', 'new_B_time', 'new_linktime', 'new_waittime', 'missed_xfer']
2017-05-11 13:38:40 [INFO/MainProcess]           Adding fares to pathset
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: pathset_links_cost_df trace
  person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode
0    Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        all  basketball  10.0        walk
1    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit
2    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        all  basketball  10.0        walk
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: cost_df
    person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type  supply_mode  supply_mode_num          weight_name  weight_value
0      Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        all  basketball  10.0        walk           access  walk_access              101             time_min           2.0
26     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301          at_capacity        9999.0
27     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301  in_vehicle_time_min           1.0
28     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301        wait_time_min           2.0
29     Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301                 fare           6.0
130    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        all  basketball  10.0        walk           egress  walk_egress              201             time_min           2.0
2017-05-11 13:38:40 [DEBUG/MainProcess] Access/egress link_df walk
                                                                 dist  time_min
taz_num supply_mode_num stop_id_num start_time_min end_time_min                
9       101             1           0.0            1440.0         0.2       4.0
                        3           0.0            1440.0         0.1       2.0
10      201             8           0.0            1440.0         0.3       6.0
                        7           0.0            1440.0         0.1       2.0
                        4           0.0            1440.0         0.5      10.0
2017-05-11 13:38:40 [DEBUG/MainProcess] walk link_df =
   supply_mode_num  start_time_min  end_time_min  dist  time_min  A_id_num  B_id_num
0              101             0.0        1440.0   0.2       4.0         9         1
1              101             0.0        1440.0   0.1       2.0         9         3
2              201             0.0        1440.0   0.3       6.0         8        10
3              201             0.0        1440.0   0.1       2.0         7        10
4              201             0.0        1440.0   0.5      10.0         4        10
2017-05-11 13:38:40 [DEBUG/MainProcess] Access/egress link_df drive
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:40 [DEBUG/MainProcess] Dropping 0 rows from cost_accegr_df
2017-05-11 13:38:40 [DEBUG/MainProcess] cost_accegr_df trace
   person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id     A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state board_time  overcap  overcap_frac alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type  supply_mode  supply_mode_num weight_name  weight_value  var_value  start_time_min walk  end_time_min walk  dist walk  time_min walk      departure_time        arrival_time time_target
0     Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0          0.1          NaT        0    O    E       NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None       0.1        all  basketball  10.0        walk           access  walk_access              101    time_min           2.0        2.0                  0.0             1440.0        0.1            2.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
26    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0          0.5          NaT        2    F    D  35.78109 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None       0.5        all  basketball  10.0        walk           egress  walk_egress              201    time_min           2.0       10.0                  0.0             1440.0        0.5           10.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
dtypes=
person_id                       object
person_trip_id                  object
trip_list_id_num                 int64
trace                             bool
pf_iteration                   float64
pathnum                          int64
linkmode                        object
trip_id_num                    float64
A_id_num                         int64
B_id_num                         int64
A_seq                            int64
B_seq                            int64
pf_A_time               datetime64[ns]
pf_B_time               datetime64[ns]
pf_linktime            timedelta64[ns]
pf_linkfare                    float64
pf_linkcost                    float64
pf_linkdist                    float64
pf_waittime            timedelta64[ns]
linknum                          int64
A_id                            object
B_id                            object
A_lat                          float64
A_lon                          float64
B_lat                          float64
B_lon                          float64
trip_id                         object
route_id                        object
mode_num                       float64
mode                            object
split_first                       bool
chosen                          object
bump_iter                      float64
board_state                     object
board_time              datetime64[ns]
overcap                        float64
overcap_frac                   float64
alight_time             datetime64[ns]
alight_delay_min               float64
new_A_time              datetime64[ns]
new_B_time              datetime64[ns]
new_linktime           timedelta64[ns]
new_waittime           timedelta64[ns]
missed_xfer                      int64
fare                             int64
fare_period                     object
from_fare_period                object
transfer_fare_type              object
transfer_fare                   object
free_transfer                   object
distance                       float64
user_class                      object
purpose                         object
vot                            float64
demand_mode                     object
demand_mode_type                object
supply_mode                     object
supply_mode_num                  int64
weight_name                     object
weight_value                   float64
var_value                      float64
start_time_min walk            float64
end_time_min walk              float64
dist walk                      float64
time_min walk                  float64
departure_time          datetime64[ns]
arrival_time            datetime64[ns]
time_target                     object
dtype: object
2017-05-11 13:38:40 [DEBUG/MainProcess] Missing 0 out of 52 access/egress var_value values
2017-05-11 13:38:40 [DEBUG/MainProcess] cost_trip_df trace
   person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon     B_lat      B_lon trip_id route_id  mode_num       mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value
26    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301          at_capacity        9999.0        NaN
27    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301  in_vehicle_time_min           1.0        NaN
28    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301        wait_time_min           2.0        NaN
29    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301                 fare           6.0        0.0
dtypes=
person_id                      object
person_trip_id                 object
trip_list_id_num                int64
trace                            bool
pf_iteration                  float64
pathnum                         int64
linkmode                       object
trip_id_num                   float64
A_id_num                        int64
B_id_num                        int64
A_seq                           int64
B_seq                           int64
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_linktime           timedelta64[ns]
pf_linkfare                   float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_waittime           timedelta64[ns]
linknum                         int64
A_id                           object
B_id                           object
A_lat                         float64
A_lon                         float64
B_lat                         float64
B_lon                         float64
trip_id                        object
route_id                       object
mode_num                      float64
mode                           object
split_first                      bool
chosen                         object
bump_iter                     float64
board_state                    object
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
dtype: object
2017-05-11 13:38:40 [DEBUG/MainProcess] cost_trip_df trace
   person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon     B_lat      B_lon trip_id route_id  mode_num       mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value  at_capacity
26    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301          at_capacity        9999.0        0.0          0.0
27    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301  in_vehicle_time_min           1.0       12.0          0.0
28    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301        wait_time_min           2.0        0.0          0.0
29    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.78109 -78.659859      O1   Orange     301.0  local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301                 fare           6.0        0.0          0.0
dtypes=
person_id                      object
person_trip_id                 object
trip_list_id_num                int64
trace                            bool
pf_iteration                  float64
pathnum                         int64
linkmode                       object
trip_id_num                   float64
A_id_num                        int64
B_id_num                        int64
A_seq                           int64
B_seq                           int64
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_linktime           timedelta64[ns]
pf_linkfare                   float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_waittime           timedelta64[ns]
linknum                         int64
A_id                           object
B_id                           object
A_lat                         float64
A_lon                         float64
B_lat                         float64
B_lon                         float64
trip_id                        object
route_id                       object
mode_num                      float64
mode                           object
split_first                      bool
chosen                         object
bump_iter                     float64
board_state                    object
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
at_capacity                   float64
dtype: object
2017-05-11 13:38:40 [DEBUG/MainProcess] Missing 0 out of 104 transit trip var_value values
2017-05-11 13:38:40 [DEBUG/MainProcess] add_transfer_attributes: transfer_links_df(0) head(20)=
Empty DataFrame
Columns: [person_id, person_trip_id, trip_list_id_num, trace, pf_iteration, pathnum, linkmode, trip_id_num, A_id_num, B_id_num, A_seq, B_seq, pf_A_time, pf_B_time, pf_linktime, pf_linkfare, pf_linkcost, pf_linkdist, pf_waittime, linknum, A_id, B_id, A_lat, A_lon, B_lat, B_lon, trip_id, route_id, mode_num, mode, split_first, chosen, bump_iter, board_state, board_time, overcap, overcap_frac, alight_time, alight_delay_min, new_A_time, new_B_time, new_linktime, new_waittime, missed_xfer, fare, fare_period, from_fare_period, transfer_fare_type, transfer_fare, free_transfer, distance, user_class, purpose, vot, demand_mode, demand_mode_type, supply_mode, supply_mode_num, weight_name, weight_value, var_value]
Index: []
transfers_df head(20)=
  from_stop_id  min_transfer_time to_stop_id  transfer_type stop2stop  dist from_route_id to_route_id  transfer_penalty  min_transfer_time_min  time_min     time  from_stop_id_num  to_stop_id_num
0            B                0.0         B2              0      True   0.4          None        None               1.0                    0.0       8.0 00:08:00                 2               6
1            B                0.0         B1              0      True   0.3          None        None               1.0                    0.0       6.0 00:06:00                 2               5
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column trip_list_id_num
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column pf_iteration
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column pathnum
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column trip_id_num
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column A_id_num
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column B_id_num
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column A_seq
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column B_seq
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column pf_linkfare
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column pf_linkcost
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column pf_linkdist
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column linknum
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column A_lat
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column A_lon
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column B_lat
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column B_lon
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column mode_num
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column bump_iter
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column overcap
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column overcap_frac
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column alight_delay_min
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column missed_xfer
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column fare
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column distance
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column vot
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column supply_mode_num
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column weight_value
2017-05-11 13:38:40 [DEBUG/MainProcess] Using numeric column var_value
2017-05-11 13:38:40 [DEBUG/MainProcess] Missing 0 out of 0 transfer var_value values
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: cost_df
   person_id person_trip_id  trip_list_id_num trace user_class     purpose   vot  pathnum  linknum demand_mode_type demand_mode  supply_mode  supply_mode_num          weight_name  weight_value  var_value  missed_xfer  bump_iter  fare  sim_cost
0     Tuffie              1                 1  True        all  basketball  10.0        0        0           access        walk  walk_access              101             time_min           2.0        2.0            0        NaN     0       4.0
26    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301          at_capacity        9999.0        0.0            0        NaN     0       0.0
27    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301  in_vehicle_time_min           1.0       12.0            0        NaN     0      12.0
28    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301        wait_time_min           2.0        0.0            0        NaN     0       0.0
29    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301                 fare           6.0        0.0            0        NaN     0       0.0
26    Tuffie              1                 1  True        all  basketball  10.0        0        2           egress        walk  walk_egress              201             time_min           2.0       10.0            0        NaN     0      20.0
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: cost_link_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  linknum  sim_cost
0                 1    Tuffie              1  True        0        0       4.0
1                 1    Tuffie              1  True        0        1      12.0
2                 1    Tuffie              1  True        0        2      20.0
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  person_id person_trip_id  trip_list_id_num trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  sim_cost
0    Tuffie              1                 1  True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0
1    Tuffie              1                 1  True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0
2    Tuffie              1                 1  True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000      20.0
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_overlap() pathset_links_to_use (78) head=
            person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance
0              Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
1              Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
2              Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
3             Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
4             Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
5             Rameses              1                 2  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
6      Michael Jordan              1                 3  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
7      Michael Jordan              1                 3  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
8      Michael Jordan              1                 3  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
9    Jerry Stackhouse              1                 4  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
10   Jerry Stackhouse              1                 4  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
11   Jerry Stackhouse              1                 4  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
12         Dean Smith              1                 5  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
13         Dean Smith              1                 5  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
14         Dean Smith              1                 5  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
15       Vince Carter              1                 6  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
16       Vince Carter              1                 6  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
17       Vince Carter              1                 6  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
18     Antown Jamison              1                 7  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
19     Antown Jamison              1                 7  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
20     Antown Jamison              1                 7  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
21      Serge Zwikker              1                 8  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
22      Serge Zwikker              1                 8  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
23      Serge Zwikker              1                 8  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
24     Dante Calabria              1                 9  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
25     Dante Calabria              1                 9  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
26     Dante Calabria              1                 9  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
27  Shammond Williams              1                10  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
28  Shammond Williams              1                10  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
29  Shammond Williams              1                10  False          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_overlap() chunk_list size=26 head=
   trip_list_id_num  chunk_num
0                 1          0
1                 2          0
2                 3          0
3                 4          0
4                 5          0
tail=
    trip_list_id_num  chunk_num
21                22          0
22                23          0
23                24          0
24                25          0
25                26          0
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_overlap() mem_use=Uknown; please install python package psutil pathset_links_to_use has length 78, head=
  person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  chunk_num
0    Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000          0
1    Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158          0
2    Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000          0
3   Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000          0
4   Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158          0
2017-05-11 13:38:40 [INFO/MainProcess]           Calculating overlap for chunk    1/   1 (len     78);  mem_use=Uknown; please install python package psutil
2017-05-11 13:38:40 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil overlap_df has length 78, head=
  person_id person_trip_id  trip_list_id_num  trace  pathnum  linknum  A_id_num  B_id_num         mode  new_linktime  distance
0    Tuffie              1                 1   True        0        0         9         3  walk_access      00:02:00  0.100000
1    Tuffie              1                 1   True        0        1         3         4    local_bus      00:12:00  0.571158
2    Tuffie              1                 1   True        0        2         4        10  walk_egress      00:10:00  0.500000
3   Rameses              1                 2  False        0        0         9         3  walk_access      00:02:00  0.100000
4   Rameses              1                 2  False        0        1         3         4    local_bus      00:12:00  0.571158
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Added path summed count,time,distance. mem_use=Uknown; please install python package psutil overlap_path_df has length 26, head=
   trip_list_id_num         person_id person_trip_id  trace  pathnum  path_count  path_distance  path_time
0                 1            Tuffie              1   True        0           3       1.171158   00:24:00
1                 2           Rameses              1  False        0           3       1.171158   00:24:00
2                 3    Michael Jordan              1  False        0           3       1.171158   00:24:00
3                 4  Jerry Stackhouse              1  False        0           3       1.171158   00:24:00
4                 5        Dean Smith              1  False        0           3       1.171158   00:24:00
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap(): overlap_df trace
  person_id person_trip_id  trip_list_id_num trace  pathnum_x  linknum_x  A_id_num_x  B_id_num_x       mode_x  new_linktime_x  distance_x  path_count_x  path_distance_x  path_time_x  pathnum_y  linknum_y  A_id_num_y  B_id_num_y       mode_y  new_linktime_y  distance_y  path_count_y  path_distance_y  path_time_y  match  link_prop_x  pathlen_x_y  pathlen_x_y_scale
0    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
1    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
2    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
3    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
4    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      1     0.333333          1.0                1.0
5    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
6    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
7    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
8    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap() trace overlap_df
   trip_list_id_num person_id person_trip_id trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1  True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1  True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1  True          0          2     0.333333                1.0  0.333333
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Cartesian product of links. mem_use=Uknown; please install python package psutil overlap_df has length 78, head=
   trip_list_id_num person_id person_trip_id  trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1   True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1   True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1   True          0          2     0.333333                1.0  0.333333
3                 2   Rameses              1  False          0          0     0.333333                1.0  0.333333
4                 2   Rameses              1  False          0          1     0.333333                1.0  0.333333
2017-05-11 13:38:41 [DEBUG/MainProcess] PathSize min=1.000000 max=1.000000
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap() overlap_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum_x   PS  ln_PS
0                 1    Tuffie              1  True          0  1.0    0.0
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil full_overlap_df has length 26
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_overlap() complete: full_overlap_df head=
    trip_list_id_num           person_id person_trip_id  trace  pathnum  ln_PS
0                  1              Tuffie              1   True        0    0.0
1                  2             Rameses              1  False        0    0.0
2                  3      Michael Jordan              1  False        0    0.0
3                  4    Jerry Stackhouse              1  False        0    0.0
4                  5          Dean Smith              1  False        0    0.0
5                  6        Vince Carter              1  False        0    0.0
6                  7      Antown Jamison              1  False        0    0.0
7                  8       Serge Zwikker              1  False        0    0.0
8                  9      Dante Calabria              1  False        0    0.0
9                 10   Shammond Williams              1  False        0    0.0
10                11            Mrs. Wuf              1  False        0    0.0
11                12       Marcus Melvin              1  False        0    0.0
12                13       Archie Miller              1  False        0    0.0
13                14        Julius Hodge              1  False        0    0.0
14                15      Illian Evtimov              1  False        0    0.0
15                16    Scooter Sherrill              1  False        0    0.0
16                17         Josh Powell              1  False        0    0.0
17                18      Anthony Grundy              1  False        0    0.0
18                19             Mike K.              1  False        0    0.0
19                20          Jeff Capel              1  False        0    0.0
20                21          Grant Hill              1  False        0    0.0
21                22        Bobby Hurley              1  False        0    0.0
22                23  Christian Laettner              1  False        0    0.0
23                24       Carlos Boozer              1  False        0    0.0
24                25     Jayson Williams              1  False        0    0.0
25                26       Shane Battier              1  False        0    0.0
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_cost: cost_path_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  sim_cost
0                 1    Tuffie              1  True        0      36.0
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
  person_id person_trip_id  trip_list_id_num trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description         chosen  bump_iter  missed_xfer  sim_cost  ln_PS
0    Tuffie              1                 1  True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0
2017-05-11 13:38:41 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
  person_id person_trip_id  trip_list_id_num trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description         chosen  bump_iter  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0    Tuffie              1                 1  True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:41 [INFO/MainProcess]   Step 4. Choose a path for each passenger from their pathset
2017-05-11 13:38:41 [INFO/MainProcess]           Rejecting 16 previously chosen paths for huge costs
2017-05-11 13:38:41 [DEBUG/MainProcess] rejected_paths head(20): 
             person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description         chosen  bump_iter  missed_xfer  sim_cost  ln_PS  logsum_component  logsum  probability
10            Mrs. Wuf              1                11  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
11       Marcus Melvin              1                12  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
12       Archie Miller              1                13  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
13        Julius Hodge              1                14  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
14      Illian Evtimov              1                15  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
15    Scooter Sherrill              1                16  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
16         Josh Powell              1                17  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
17      Anthony Grundy              1                18  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
18             Mike K.              1                19  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
19          Jeff Capel              1                20  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
20          Grant Hill              1                21  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
21        Bobby Hurley              1                22  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
22  Christian Laettner              1                23  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
23       Carlos Boozer              1                24  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
24     Jayson Williams              1                25  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
25       Shane Battier              1                26  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        0.0            0   59994.0    0.0               0.0     0.0          NaN
2017-05-11 13:38:41 [INFO/MainProcess]           Have     26 total passenger-trips, with     10 chosen paths,     16 fully rejected and      0 needing a choice
2017-05-11 13:38:41 [INFO/MainProcess]   Step 5. Put passenger paths on transit vehicles to get vehicle boards/alights/load and assess capacity constraints
2017-05-11 13:38:41 [INFO/MainProcess]   Step 5.1 Put passengers on transit vehicles.
2017-05-11 13:38:41 [DEBUG/MainProcess] veh_loaded_df with onboard>0: (showing head)
    trip_id_num  stop_sequence        arrival_time      departure_time  shape_dist_traveled stop_id trip_id  arrival_time_min  departure_time_min  stop_id_num  original_travel_time  travel_time  travel_time_sec  dwell_time  dwell_time_sec direction_id route_id service_id vehicle_name  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num  max_stop_seq trip_departure_time  friction  standees  overcap  msa_boards  msa_alights  msa_onboard  msa_friction  msa_standees  msa_overcap  overcap_frac  boards  alights  onboard
16            9              1 2016-01-01 07:09:37 2016-01-01 07:10:00                  0.0       E      O1        429.616667               430.0            3              00:12:00     00:12:00            720.0    00:00:23            23.0            1   Orange        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667    Route Orange           Orange           3  local_bus       301   transit             2             2 2016-01-01 07:10:00      15.0         5        0         0.0          0.0          0.0           0.0           0.0         -1.0           0.0      10        0       10
2017-05-11 13:38:41 [DEBUG/MainProcess] after putting passengers on vehicles, veh_loaded_df with onboard.head(30) = 
   route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
16   Orange      O1              1       E        10      10        0       10        0           0.0
2017-05-11 13:38:41 [INFO/MainProcess]   Step 5.2 Capacity constraints on transit vehicles.
2017-05-11 13:38:41 [INFO/MainProcess]           Bumping one at a time? false
2017-05-11 13:38:41 [DEBUG/MainProcess] pathset_links_df.head(20)=
           person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen
0             Tuffie              1                 1        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
1             Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
2             Tuffie              1                 1        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
3            Rameses              1                 2        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
4            Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
5            Rameses              1                 2        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
6     Michael Jordan              1                 3        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
7     Michael Jordan              1                 3        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
8     Michael Jordan              1                 3        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
9   Jerry Stackhouse              1                 4        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
10  Jerry Stackhouse              1                 4        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
11  Jerry Stackhouse              1                 4        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
12        Dean Smith              1                 5        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
13        Dean Smith              1                 5        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
14        Dean Smith              1                 5        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
15      Vince Carter              1                 6        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
16      Vince Carter              1                 6        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
17      Vince Carter              1                 6        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
18    Antown Jamison              1                 7        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
19    Antown Jamison              1                 7        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
2017-05-11 13:38:41 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() 0 vehicle trip/stops over capacity: (showing head)
Empty DataFrame
Columns: [route_id, trip_id, stop_sequence, stop_id, capacity, boards, alights, onboard, overcap, overcap_frac]
Index: []
2017-05-11 13:38:41 [INFO/MainProcess]           No over-capacity vehicles
2017-05-11 13:38:41 [DEBUG/MainProcess] Bump_wait_df:
            pf_A_time  pf_A_time_min  stop_id_num  stop_sequence trip_id  trip_id_num
0 2016-01-01 07:10:00          430.0            3              1      O1            9
2017-05-11 13:38:41 [INFO/MainProcess]   Step 6. Update dwell and travel times for transit vehicles
2017-05-11 13:38:41 [DEBUG/MainProcess] Trip.update_trip_times() trips_df has 20 rows
2017-05-11 13:38:41 [DEBUG/MainProcess] dwell_formula 3 + 2*[boards] + 1.5*[alights] has 20 rows
2017-05-11 13:38:41 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence  max_stop_seq next_does_stop next_is_last_stop
0            1              0             2          False             False
1            1              1             2          False              True
2            2              0             2          False             False
3            2              1             2          False              True
4            3              0             2          False             False

2017-05-11 13:38:41 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell
0            1              1 2016-01-01 07:26:00          00:08:03                   3.0          00:00:03
1            1              2 2016-01-01 07:26:00          00:08:06                   3.0          00:00:03
2            2              1 2016-01-01 07:20:00          00:08:03                   3.0          00:00:03
3            2              2 2016-01-01 07:20:00          00:08:06                   3.0          00:00:03
4            3              1 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03

2017-05-11 13:38:41 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell   trip_arrival_time    new_arrival_time
0            1              2 2016-01-01 07:26:00          00:08:03                   3.0          00:00:03 2016-01-01 07:25:57 2016-01-01 07:34:00
1            1              3 2016-01-01 07:26:00          00:08:06                   3.0          00:00:03 2016-01-01 07:25:57 2016-01-01 07:34:03
2            2              2 2016-01-01 07:20:00          00:08:03                   3.0          00:00:03 2016-01-01 07:19:57 2016-01-01 07:28:00
3            2              3 2016-01-01 07:20:00          00:08:06                   3.0          00:00:03 2016-01-01 07:19:57 2016-01-01 07:28:03
4            3              2 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03 2016-01-01 07:09:57 2016-01-01 07:18:00

2017-05-11 13:38:41 [DEBUG/MainProcess] Trips:update_trip_times() trips_df:
   trip_id  trip_id_num  stop_sequence        arrival_time      departure_time  max_speed_fps  acceleration  deceleration  seated_capacity  boards  alights  onboard  standees  friction does_stop next_does_stop next_is_last_stop  accel_secs  decel_secs  dwell_time_sec  travel_dwell_sec  travel_dwell_sec_cum    new_arrival_time
0       G4            1              1 2016-01-01 07:25:57 2016-01-01 07:26:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
1       G4            1              2 2016-01-01 07:34:00 2016-01-01 07:34:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:34:00
2       G3            2              1 2016-01-01 07:19:57 2016-01-01 07:20:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
3       G3            2              2 2016-01-01 07:28:00 2016-01-01 07:28:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:28:00
4       G2            3              1 2016-01-01 07:09:57 2016-01-01 07:10:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
5       G2            3              2 2016-01-01 07:18:00 2016-01-01 07:18:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:18:00
6       G1            4              1 2016-01-01 07:01:57 2016-01-01 07:02:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
7       G1            4              2 2016-01-01 07:10:00 2016-01-01 07:10:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:10:00
8       R2            5              1 2016-01-01 07:17:57 2016-01-01 07:18:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             363.0                 363.0                 NaT
9       R2            5              2 2016-01-01 07:24:00 2016-01-01 07:24:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 366.0 2016-01-01 07:24:00
10      B1            6              1 2016-01-01 06:55:57 2016-01-01 06:56:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
11      B1            6              2 2016-01-01 07:04:00 2016-01-01 07:04:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:04:00
12      B2            7              1 2016-01-01 07:03:57 2016-01-01 07:04:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
13      B2            7              2 2016-01-01 07:12:00 2016-01-01 07:12:03      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:12:00
14      B3            8              1 2016-01-01 07:09:57 2016-01-01 07:10:00      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT

2017-05-11 13:38:41 [DEBUG/MainProcess] trips_df.dtypes=
trip_id_num                       int64
stop_sequence                     int64
arrival_time             datetime64[ns]
departure_time           datetime64[ns]
shape_dist_traveled             float64
stop_id                          object
trip_id                          object
arrival_time_min                float64
departure_time_min              float64
stop_id_num                       int64
original_travel_time    timedelta64[ns]
travel_time             timedelta64[ns]
travel_time_sec                 float64
dwell_time              timedelta64[ns]
dwell_time_sec                  float64
direction_id                     object
route_id                         object
service_id                       object
vehicle_name                     object
seated_capacity                   int64
standing_capacity                 int64
max_speed                         int64
acceleration                    float64
deceleration                    float64
dwell_formula                    object
capacity                          int64
max_speed_fps                   float64
route_long_name                  object
route_short_name                 object
route_type                        int64
mode                             object
mode_num                          int64
mode_type                        object
route_id_num                      int64
max_stop_seq                      int64
trip_departure_time      datetime64[ns]
friction                        float64
standees                          int64
overcap                           int64
msa_boards                      float64
msa_alights                     float64
msa_onboard                     float64
msa_friction                    float64
msa_standees                    float64
msa_overcap                     float64
overcap_frac                    float64
boards                            int64
alights                           int64
onboard                           int64
dtype: object

2017-05-11 13:38:41 [INFO/MainProcess]   No more path choices to make => Ending simulation loop
2017-05-11 13:38:41 [INFO/MainProcess] Wrote pathset_paths_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathset_paths.csv
2017-05-11 13:38:41 [INFO/MainProcess] Wrote pathset_links_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathset_links.csv
2017-05-11 13:38:41 [INFO/MainProcess] Wrote chosen_links_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/chosenpaths_links.csv
2017-05-11 13:38:41 [INFO/MainProcess] Wrote chosen_paths_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/chosenpaths_paths.csv
2017-05-11 13:38:41 [INFO/MainProcess] Appended veh_trips_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/veh_trips.csv
2017-05-11 13:38:41 [INFO/MainProcess] 
2017-05-11 13:38:41 [INFO/MainProcess]   Length of trip list:               26
2017-05-11 13:38:41 [INFO/MainProcess]   Number of pathsets found:          26
2017-05-11 13:38:41 [INFO/MainProcess]   ARRIVED PASSENGERS:                10
2017-05-11 13:38:41 [INFO/MainProcess]   MISSED PASSENGERS:                 16
2017-05-11 13:38:41 [INFO/MainProcess]   CAPACITY GAP:                61.53846
2017-05-11 13:38:41 [INFO/MainProcess] ***************************** ITERATION 1 PATHFINDING ITERATION 2 **************************************
2017-05-11 13:38:41 [INFO/MainProcess] **************************** GENERATING PATHS **********************************************************
2017-05-11 13:38:41 [INFO/MainProcess] Finding paths for trips for those that haven't arrived yet
2017-05-11 13:38:41 [DEBUG/MainProcess] filter_trip_list_to_not_arrived(): trip_list_df len=26 head()=
          person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class  trace
0            Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all   True
1           Rameses              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 2             480.0               420.0   Tarheel              1          NaN          9         10      transit        walk        walk    False        all  False
2    Michael Jordan              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 3             480.0               420.0   Tarheel              2          NaN          9         10      transit        walk        walk    False        all  False
3  Jerry Stackhouse              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 4             480.0               420.0   Tarheel              3          NaN          9         10      transit        walk        walk    False        all  False
4        Dean Smith              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 5             480.0               420.0   Tarheel              4          NaN          9         10      transit        walk        walk    False        all  False
2017-05-11 13:38:41 [DEBUG/MainProcess] filter_trip_list_to_not_arrived(): pathset_paths_df len=26 head()=
          person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description         chosen  bump_iter  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0            Tuffie              1                 1   True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
1           Rameses              1                 2  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2    Michael Jordan              1                 3  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
3  Jerry Stackhouse              1                 4  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
4        Dean Smith              1                 5  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:41 [DEBUG/MainProcess] pathset_paths_df.dtypes
2017-05-11 13:38:41 [DEBUG/MainProcess] filter_trip_list_to_not_arrived(): trip_list_df_to_return len=16 head()=
         person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class  trace
10        Mrs. Wuf              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                11             480.0               420.0  Wolfpack             11          1.0          9         10      transit        walk        walk    False        all  False
11   Marcus Melvin              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                12             480.0               420.0  Wolfpack             12          1.0          9         10      transit        walk        walk    False        all  False
12   Archie Miller              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                13             480.0               420.0  Wolfpack             13          1.0          9         10      transit        walk        walk    False        all  False
13    Julius Hodge              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                14             480.0               420.0  Wolfpack             14          1.0          9         10      transit        walk        walk    False        all  False
14  Illian Evtimov              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                15             480.0               420.0  Wolfpack             15          1.0          9         10      transit        walk        walk    False        all  False
2017-05-11 13:38:41 [INFO/MainProcess] Finding pathsets for 16 trips
2017-05-11 13:38:41 [DEBUG/MainProcess] Initializing fasttrips extension for process number 0
2017-05-11 13:38:41 [DEBUG/MainProcess] initialize_fasttrips_extension() overcap sum: -190
2017-05-11 13:38:41 [DEBUG/MainProcess] initialize_fasttrips_extension() STOPTIMES_COLUMN_DEPARTURE_TIME_MIN len: 20 mean: 434.437500
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Mrs. Wuf trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       1 paths sought,      1 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Marcus Melvin trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       2 paths sought,      2 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Archie Miller trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       3 paths sought,      3 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Julius Hodge trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       4 paths sought,      4 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Illian Evtimov trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       5 paths sought,      5 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Scooter Sherrill trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       6 paths sought,      6 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Josh Powell trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       7 paths sought,      7 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Anthony Grundy trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       8 paths sought,      8 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:41 [DEBUG/MainProcess] Finished finding path for person Mike K. trip 1
2017-05-11 13:38:41 [INFO/MainProcess]       9 paths sought,      9 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Jeff Capel trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      10 paths sought,     10 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Grant Hill trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      11 paths sought,     11 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Bobby Hurley trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      12 paths sought,     12 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Christian Laettner trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      13 paths sought,     13 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Carlos Boozer trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      14 paths sought,     14 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Jayson Williams trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      15 paths sought,     15 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] Finished finding path for person Shane Battier trip 1
2017-05-11 13:38:42 [INFO/MainProcess]      16 paths sought,     16 paths found of 16 paths total.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [INFO/MainProcess] Finished finding     16 passenger paths.  Time elapsed:  0h: 0m: 0s
2017-05-11 13:38:42 [DEBUG/MainProcess] setup_passenger_pathsets(): pathlist and linklist constructed
2017-05-11 13:38:42 [DEBUG/MainProcess] setup_passenger_pathsets(): pathset_paths_df(32) and pathset_links_df(160) dataframes constructed
2017-05-11 13:38:42 [DEBUG/MainProcess] Have 0 links with no mode number set
2017-05-11 13:38:42 [DEBUG/MainProcess] setup_passenger_pathsets(): pathset_paths_df and pathset_links_df dataframes constructed
2017-05-11 13:38:42 [INFO/MainProcess] Appended pathset_paths_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathsfound_paths.csv
2017-05-11 13:38:42 [INFO/MainProcess] Appended pathset_links_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathsfound_links.csv
2017-05-11 13:38:42 [INFO/MainProcess] Appended performance_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_output_performance.csv
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets():     pathset_paths_df len=26 head=
          person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                          description         chosen  bump_iter  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0            Tuffie              1                 1   True        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
1           Rameses              1                 2  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2    Michael Jordan              1                 3  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
3  Jerry Stackhouse              1                 4  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
4        Dean Smith              1                 5  False        2  transit          1.01        0     36.0      0.0             1.0         36.0          0.0  O walk_access E local_bus Orange_O1 F walk_egress D  iter1.01 sim0        NaN            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets(): new_pathset_paths_df len=32 head=
       person_id person_trip_id  trip_list_id_num  trace  pathdir pathmode  pf_iteration  pathnum  pf_cost  pf_fare  pf_probability  pf_initcost  pf_initfare                                                                          description
0       Mrs. Wuf              1                11  False        2  transit          1.02        0     49.0      0.0        0.729736         49.0          0.0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D
1       Mrs. Wuf              1                11  False        2  transit          1.02        1     51.0      0.0        0.268455         51.0          0.0    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D
2       Mrs. Wuf              1                11  False        2  transit          1.02        2     61.0      0.0        0.001809         61.0          0.0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D
3  Marcus Melvin              1                12  False        2  transit          1.02        0     49.0      0.0        0.729736         49.0          0.0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D
4  Marcus Melvin              1                12  False        2  transit          1.02        1     51.0      0.0        0.268455         51.0          0.0    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets() dtypes=
person_id             object
person_trip_id        object
trip_list_id_num       int64
trace                   bool
pathdir                int64
pathmode              object
pf_iteration         float64
pathnum                int64
pf_cost              float64
pf_fare              float64
pf_probability       float64
pf_initcost          float64
pf_initfare          float64
description           object
chosen              category
bump_iter            float64
missed_xfer            int64
sim_cost             float64
ln_PS                float64
logsum_component     float64
logsum               float64
probability          float64
dtype: object
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets():     pathset_links_df len=78 head=
  person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode split_first         chosen  bump_iter board_state  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  sim_cost          board_time  overcap  overcap_frac         alight_time
0    Tuffie              1                 1   True          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0                 NaT      NaN           NaN                 NaT
1    Tuffie              1                 1   True          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2    Tuffie              1                 1   True          1.01        0   egress          NaN         4        10     -1     -1 2016-01-01 07:22:00 2016-01-01 07:32:00     00:10:00          0.0         20.0     0.500000          NaT        2    F    D  35.781090 -78.659859        NaN        NaN     NaN      NaN     201.0  walk_egress        True  iter1.01 sim0        NaN         NaN               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000      20.0                 NaT      NaN           NaN                 NaT
3   Rameses              1                 2  False          1.01        0   access          NaN         9         3     -1     -1 2016-01-01 07:08:00 2016-01-01 07:10:00     00:02:00          0.0          4.0     0.100000          NaT        0    O    E        NaN        NaN  35.784089 -78.669354     NaN      NaN     101.0  walk_access        True  iter1.01 sim0        NaN         NaN               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0                 NaT      NaN           NaN                 NaT
4   Rameses              1                 2  False          1.01        0  transit          9.0         3         4      1      2 2016-01-01 07:10:00 2016-01-01 07:22:00     00:12:00          0.0         12.0     0.571158       0 days        1    E    F  35.784089 -78.669354  35.781090 -78.659859      O1   Orange     301.0    local_bus        True  iter1.01 sim0        NaN     boarded               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets(): new_pathset_links_df len=160 head=
  person_id person_trip_id  trip_list_id_num  trace  pf_iteration  pathnum  linkmode  trip_id_num  A_id_num  B_id_num  A_seq  B_seq           pf_A_time           pf_B_time  pf_linktime  pf_linkfare  pf_linkcost  pf_linkdist  pf_waittime  linknum A_id B_id      A_lat      A_lon      B_lat      B_lon trip_id route_id  mode_num         mode
0  Mrs. Wuf              1                11  False          1.02        0    access          NaN         9         1     -1     -1 2016-01-01 07:00:00 2016-01-01 07:04:00     00:04:00          0.0          8.0     0.200000          NaT        0    O    A        NaN        NaN  35.782796 -78.670429     NaN      NaN     101.0  walk_access
1  Mrs. Wuf              1                11  False          1.02        0   transit          7.0         1         2      1      2 2016-01-01 07:04:00 2016-01-01 07:12:00     00:08:00          0.0          8.0     0.219219       0 days        1    A    B  35.782796 -78.670429  35.781325 -78.666964      B2     Blue     301.0    local_bus
2  Mrs. Wuf              1                11  False          1.02        0  transfer          NaN         2         6     -1     -1 2016-01-01 07:12:00 2016-01-01 07:20:00     00:08:00          0.0         21.0     0.400000          NaT        2    B   B2  35.781325 -78.666964  35.779053 -78.667243     NaN      NaN       1.0     transfer
3  Mrs. Wuf              1                11  False          1.02        0   transit          2.0         6         7      1      2 2016-01-01 07:20:00 2016-01-01 07:28:00     00:08:00          0.0          8.0     0.320010       0 days        3   B2   C2  35.779053 -78.667243  35.779584 -78.661572      G3    Green     301.0    local_bus
4  Mrs. Wuf              1                11  False          1.02        0    egress          NaN         7        10     -1     -1 2016-01-01 07:28:00 2016-01-01 07:30:00     00:02:00          0.0          4.0     0.100000          NaT        4   C2    D  35.779584 -78.661572        NaN        NaN     NaN      NaN     201.0  walk_egress
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets() dtypes=
person_id                      object
person_trip_id                 object
trip_list_id_num                int64
trace                            bool
pf_iteration                  float64
pathnum                         int64
linkmode                       object
trip_id_num                   float64
A_id_num                        int64
B_id_num                        int64
A_seq                           int64
B_seq                           int64
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_linktime           timedelta64[ns]
pf_linkfare                   float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_waittime           timedelta64[ns]
linknum                         int64
A_id                           object
B_id                           object
A_lat                         float64
A_lon                         float64
B_lat                         float64
B_lon                         float64
trip_id                        object
route_id                       object
mode_num                      float64
mode                           object
split_first                      bool
chosen                       category
bump_iter                     float64
board_state                  category
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
sim_cost                      float64
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
dtype: object
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets():     pathfind_trip_list_df len=16 head=
         person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class  trace
10        Mrs. Wuf              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                11             480.0               420.0  Wolfpack             11          1.0          9         10      transit        walk        walk    False        all  False
11   Marcus Melvin              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                12             480.0               420.0  Wolfpack             12          1.0          9         10      transit        walk        walk    False        all  False
12   Archie Miller              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                13             480.0               420.0  Wolfpack             13          1.0          9         10      transit        walk        walk    False        all  False
13    Julius Hodge              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                14             480.0               420.0  Wolfpack             14          1.0          9         10      transit        walk        walk    False        all  False
14  Illian Evtimov              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                15             480.0               420.0  Wolfpack             15          1.0          9         10      transit        walk        walk    False        all  False
2017-05-11 13:38:42 [DEBUG/MainProcess] Filtered to 10 pathset_paths_df rows
2017-05-11 13:38:42 [DEBUG/MainProcess] Concatenated so pathset_paths_df has 42 rows
2017-05-11 13:38:42 [DEBUG/MainProcess] Filtered to 30 pathset_links_df rows
2017-05-11 13:38:42 [DEBUG/MainProcess] Concatenated so pathset_links_df has 190 rows
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets():     pathset_paths_df len=42 head=
   bump_iter         chosen                                          description  ln_PS        logsum  logsum_component  missed_xfer  pathdir pathmode  pathnum         person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  probability  sim_cost  trace  trip_list_id_num
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0        2  transit        0            Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0   True                 1
1        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0        2  transit        0           Rameses              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False                 2
2        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0        2  transit        0    Michael Jordan              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False                 3
3        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0        2  transit        0  Jerry Stackhouse              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False                 4
4        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0        2  transit        0        Dean Smith              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False                 5
tail=
    bump_iter    chosen                                                                          description  ln_PS  logsum  logsum_component  missed_xfer  pathdir pathmode  pathnum           person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  probability  sim_cost  trace  trip_list_id_num
27        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN     NaN               NaN            0        2  transit        0        Bobby Hurley              1     49.0      0.0         49.0          0.0          1.02             1.0          NaN       NaN  False                22
28        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN     NaN               NaN            0        2  transit        0  Christian Laettner              1     49.0      0.0         49.0          0.0          1.02             1.0          NaN       NaN  False                23
29        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN     NaN               NaN            0        2  transit        0       Carlos Boozer              1     49.0      0.0         49.0          0.0          1.02             1.0          NaN       NaN  False                24
30        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN     NaN               NaN            0        2  transit        0     Jayson Williams              1     49.0      0.0         49.0          0.0          1.02             1.0          NaN       NaN  False                25
31        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN     NaN               NaN            0        2  transit        0       Shane Battier              1     49.0      0.0         49.0          0.0          1.02             1.0          NaN       NaN  False                26
2017-05-11 13:38:42 [DEBUG/MainProcess] merge_pathsets():     pathset_links_df len=190 head=
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq  alight_delay_min         alight_time board_state          board_time  bump_iter         chosen  distance  fare fare_period free_transfer from_fare_period linkmode  linknum  missed_xfer         mode  mode_num          new_A_time          new_B_time  new_linktime  new_waittime  overcap  overcap_frac  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id  sim_cost split_first  trace transfer_fare transfer_fare_type trip_id  trip_id_num  trip_list_id_num
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1               0.0                 NaT         NaN                 NaT        NaN  iter1.01 sim0  0.100000   0.0        None          None             None   access        0          0.0  walk_access     101.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT      NaN           NaN        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True   True          None               None     NaN          NaN                 1
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2               0.0 2016-01-01 07:22:00     boarded 2016-01-01 07:10:00        NaN  iter1.01 sim0  0.571158   0.0        None          None             None  transit        1          0.0    local_bus     301.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days      0.0           0.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange      12.0        True   True          None               None      O1          9.0                 1
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1               0.0                 NaT         NaN                 NaT        NaN  iter1.01 sim0  0.500000   0.0        None          None             None   egress        2          0.0  walk_egress     201.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT      NaN           NaN        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN      20.0        True   True          None               None     NaN          NaN                 1
3    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1               0.0                 NaT         NaN                 NaT        NaN  iter1.01 sim0  0.100000   0.0        None          None             None   access        0          0.0  walk_access     101.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT      NaN           NaN        0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True  False          None               None     NaN          NaN                 2
4    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2               0.0 2016-01-01 07:22:00     boarded 2016-01-01 07:10:00        NaN  iter1.01 sim0  0.571158   0.0        None          None             None  transit        1          0.0    local_bus     301.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days      0.0           0.0        0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange      12.0        True  False          None               None      O1          9.0                 2
tail=
    A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq  alight_delay_min alight_time board_state board_time  bump_iter chosen  distance  fare fare_period free_transfer from_fare_period  linkmode  linknum  missed_xfer         mode  mode_num new_A_time new_B_time  new_linktime  new_waittime  overcap  overcap_frac  pathnum      person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id  sim_cost split_first  trace transfer_fare transfer_fare_type trip_id  trip_id_num  trip_list_id_num
155    O         9        NaN        NaN     -1    A         1  35.782796 -78.670429     -1               NaN         NaT         NaN        NaT        NaN    NaN       NaN   NaN         NaN           NaN              NaN    access        0          NaN  walk_access     101.0        NaT        NaT           NaT           NaT      NaN           NaN        0  Shane Battier              1 2016-01-01 07:06:00 2016-01-01 07:10:00          1.02          8.0     0.200000          0.0     00:04:00          NaT      NaN       NaN         NaN  False           NaN                NaN     NaN          NaN                26
156    A         1  35.782796 -78.670429      1    B         2  35.781325 -78.666964      2               NaN         NaT         NaN        NaT        NaN    NaN       NaN   NaN         NaN           NaN              NaN   transit        1          NaN    local_bus     301.0        NaT        NaT           NaT           NaT      NaN           NaN        0  Shane Battier              1 2016-01-01 07:10:00 2016-01-01 07:18:00          1.02          8.0     0.219219          0.0     00:08:00       0 days     Blue       NaN         NaN  False           NaN                NaN      B3          8.0                26
157    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1               NaN         NaT         NaN        NaT        NaN    NaN       NaN   NaN         NaN           NaN              NaN  transfer        2          NaN     transfer       1.0        NaT        NaT           NaT           NaT      NaN           NaN        0  Shane Battier              1 2016-01-01 07:18:00 2016-01-01 07:26:00          1.02         21.0     0.400000          0.0     00:08:00          NaT      NaN       NaN         NaN  False           NaN                NaN     NaN          NaN                26
158   B2         6  35.779053 -78.667243      1   C2         7  35.779584 -78.661572      2               NaN         NaT         NaN        NaT        NaN    NaN       NaN   NaN         NaN           NaN              NaN   transit        3          NaN    local_bus     301.0        NaT        NaT           NaT           NaT      NaN           NaN        0  Shane Battier              1 2016-01-01 07:26:00 2016-01-01 07:34:00          1.02          8.0     0.320010          0.0     00:08:00       0 days    Green       NaN         NaN  False           NaN                NaN      G4          1.0                26
159   C2         7  35.779584 -78.661572     -1    D        10        NaN        NaN     -1               NaN         NaT         NaN        NaT        NaN    NaN       NaN   NaN         NaN           NaN              NaN    egress        4          NaN  walk_egress     201.0        NaT        NaT           NaT           NaT      NaN           NaN        0  Shane Battier              1 2016-01-01 07:34:00 2016-01-01 07:36:00          1.02          4.0     0.100000          0.0     00:02:00          NaT      NaN       NaN         NaN  False           NaN                NaN     NaN          NaN                26
2017-05-11 13:38:42 [INFO/MainProcess] ***************************** ITERATION 1 PATHFINDING ITERATION 2 *** SIMULATING ***********************
2017-05-11 13:38:42 [INFO/MainProcess] Simulation Iteration 0
2017-05-11 13:38:42 [INFO/MainProcess]   Step 1. Find out board/alight times for all pathset links from vehicle times
2017-05-11 13:38:42 [INFO/MainProcess]   Step 2. Flag missed transfer links and paths in the pathsets
2017-05-11 13:38:42 [DEBUG/MainProcess] flag_missed_transfers() pathset_links_df (190):
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen  distance  fare fare_period free_transfer from_fare_period linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id  sim_cost split_first  trace transfer_fare transfer_fare_type trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0  0.100000   0.0        None          None             None   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True   True          None               None     NaN          NaN                 1                 NaT      NaN           NaN                 NaT
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  0.571158   0.0        None          None             None  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange      12.0        True   True          None               None      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0  0.500000   0.0        None          None             None   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN      20.0        True   True          None               None     NaN          NaN                 1                 NaT      NaN           NaN                 NaT
3    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0  0.100000   0.0        None          None             None   access        0  walk_access     101.0        0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True  False          None               None     NaN          NaN                 2                 NaT      NaN           NaN                 NaT
4    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  0.571158   0.0        None          None             None  transit        1    local_bus     301.0        0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange      12.0        True  False          None               None      O1          9.0                 2 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2017-05-11 13:38:42 [DEBUG/MainProcess] Biggest alight_delay = 0.000000
2017-05-11 13:38:42 [DEBUG/MainProcess] A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                    object
bump_iter                     float64
chosen                         object
distance                      float64
fare                          float64
fare_period                    object
free_transfer                  object
from_fare_period               object
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
sim_cost                      float64
split_first                    object
trace                            bool
transfer_fare                  object
transfer_fare_type             object
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
dtype: object
2017-05-11 13:38:42 [INFO/MainProcess]           flag_missed_transfers found 0 missed transfer trip legs for 0 paths
2017-05-11 13:38:42 [DEBUG/MainProcess] flag_missed_transfers() pathset_paths_df (42):
    bump_iter         chosen                                                                          description  ln_PS        logsum  logsum_component  pathdir pathmode  pathnum          person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  probability  sim_cost  trace  trip_list_id_num  missed_xfer
0         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0             Tuffie              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0   True                 1            0
1         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0            Rameses              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 2            0
2         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0     Michael Jordan              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 3            0
3         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0   Jerry Stackhouse              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 4            0
4         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0         Dean Smith              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 5            0
5         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0       Vince Carter              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 6            0
6         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0     Antown Jamison              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 7            0
7         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0      Serge Zwikker              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 8            0
8         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0     Dante Calabria              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                 9            0
9         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08        2  transit        0  Shammond Williams              1     36.0      0.0         36.0          0.0          1.01        1.000000          1.0      36.0  False                10            0
10        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0           Mrs. Wuf              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                11            0
11        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1           Mrs. Wuf              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                11            0
12        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN           NaN               NaN        2  transit        2           Mrs. Wuf              1     61.0      0.0         61.0          0.0          1.02        0.001809          NaN       NaN  False                11            0
13        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0      Marcus Melvin              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                12            0
14        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1      Marcus Melvin              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                12            0
15        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN           NaN               NaN        2  transit        2      Marcus Melvin              1     61.0      0.0         61.0          0.0          1.02        0.001809          NaN       NaN  False                12            0
16        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0      Archie Miller              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                13            0
17        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1      Archie Miller              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                13            0
18        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN           NaN               NaN        2  transit        2      Archie Miller              1     61.0      0.0         61.0          0.0          1.02        0.001809          NaN       NaN  False                13            0
19        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0       Julius Hodge              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                14            0
20        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1       Julius Hodge              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                14            0
21        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN           NaN               NaN        2  transit        2       Julius Hodge              1     61.0      0.0         61.0          0.0          1.02        0.001809          NaN       NaN  False                14            0
22        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0     Illian Evtimov              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                15            0
23        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1     Illian Evtimov              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                15            0
24        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN           NaN               NaN        2  transit        2     Illian Evtimov              1     61.0      0.0         61.0          0.0          1.02        0.001809          NaN       NaN  False                15            0
25        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0   Scooter Sherrill              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                16            0
26        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1   Scooter Sherrill              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                16            0
27        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D    NaN           NaN               NaN        2  transit        2   Scooter Sherrill              1     61.0      0.0         61.0          0.0          1.02        0.001809          NaN       NaN  False                16            0
28        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D    NaN           NaN               NaN        2  transit        0        Josh Powell              1     49.0      0.0         49.0          0.0          1.02        0.729736          NaN       NaN  False                17            0
29        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D    NaN           NaN               NaN        2  transit        1        Josh Powell              1     51.0      0.0         51.0          0.0          1.02        0.268455          NaN       NaN  False                17            0
2017-05-11 13:38:42 [INFO/MainProcess]   Step 3. Calculate costs and probabilities for all pathset paths
2017-05-11 13:38:42 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen  fare fare_period free_transfer from_fare_period linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace transfer_fare transfer_fare_type trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   0.0        None          None             None   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True          None               None     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0   0.0        None          None             None  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True          None               None      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   0.0        None          None             None   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True          None               None     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0
2017-05-11 13:38:42 [DEBUG/MainProcess] calculate_cost: trip_list_df trace
  person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class trace
0    Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all  True
2017-05-11 13:38:42 [DEBUG/MainProcess] calculate_cost columns:
['A_id', 'A_id_num', 'A_lat', 'A_lon', 'A_seq', 'B_id', 'B_id_num', 'B_lat', 'B_lon', 'B_seq', 'board_state', 'bump_iter', 'chosen', 'fare', 'fare_period', 'free_transfer', 'from_fare_period', 'linkmode', 'linknum', 'mode', 'mode_num', 'pathnum', 'person_id', 'person_trip_id', 'pf_A_time', 'pf_B_time', 'pf_iteration', 'pf_linkcost', 'pf_linkdist', 'pf_linkfare', 'pf_linktime', 'pf_waittime', 'route_id', 'split_first', 'trace', 'transfer_fare', 'transfer_fare_type', 'trip_id', 'trip_id_num', 'trip_list_id_num', 'board_time', 'overcap', 'overcap_frac', 'alight_time', 'alight_delay_min', 'new_A_time', 'new_B_time', 'new_linktime', 'new_waittime', 'missed_xfer']
2017-05-11 13:38:42 [INFO/MainProcess]           Adding fares to pathset
2017-05-11 13:38:42 [DEBUG/MainProcess] calculate_cost: pathset_links_cost_df trace
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN         -1  iter1.01 sim0   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        all  basketball  10.0        walk
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN         -1  iter1.01 sim0   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        all  basketball  10.0        walk
2017-05-11 13:38:42 [DEBUG/MainProcess] calculate_cost: cost_df
    A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type  supply_mode  supply_mode_num          weight_name  weight_value
0      O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN         -1  iter1.01 sim0   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        all  basketball  10.0        walk           access  walk_access              101             time_min           2.0
42     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301          at_capacity        9999.0
43     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301  in_vehicle_time_min           1.0
44     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301        wait_time_min           2.0
45     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301                 fare           6.0
338    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN         -1  iter1.01 sim0   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        all  basketball  10.0        walk           egress  walk_egress              201             time_min           2.0
2017-05-11 13:38:42 [DEBUG/MainProcess] Access/egress link_df walk
                                                                 dist  time_min
taz_num supply_mode_num stop_id_num start_time_min end_time_min                
9       101             1           0.0            1440.0         0.2       4.0
                        3           0.0            1440.0         0.1       2.0
10      201             8           0.0            1440.0         0.3       6.0
                        7           0.0            1440.0         0.1       2.0
                        4           0.0            1440.0         0.5      10.0
2017-05-11 13:38:43 [DEBUG/MainProcess] walk link_df =
   supply_mode_num  start_time_min  end_time_min  dist  time_min  A_id_num  B_id_num
0              101             0.0        1440.0   0.2       4.0         9         1
1              101             0.0        1440.0   0.1       2.0         9         3
2              201             0.0        1440.0   0.3       6.0         8        10
3              201             0.0        1440.0   0.1       2.0         7        10
4              201             0.0        1440.0   0.5      10.0         4        10
2017-05-11 13:38:43 [DEBUG/MainProcess] Access/egress link_df drive
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:43 [DEBUG/MainProcess] Dropping 0 rows from cost_accegr_df
2017-05-11 13:38:43 [DEBUG/MainProcess] cost_accegr_df trace
   A_id  A_id_num     A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num board_time  overcap  overcap_frac alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type  supply_mode  supply_mode_num weight_name  weight_value  var_value  start_time_min walk  end_time_min walk  dist walk  time_min walk      departure_time        arrival_time time_target
0     O         9       NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN         -1  iter1.01 sim0   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0          0.1          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None       0.1        all  basketball  10.0        walk           access  walk_access              101    time_min           2.0        2.0                  0.0             1440.0        0.1            2.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
42    F         4  35.78109 -78.659859     -1    D        10        NaN        NaN     -1         NaN         -1  iter1.01 sim0   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0          0.5          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None       0.5        all  basketball  10.0        walk           egress  walk_egress              201    time_min           2.0       10.0                  0.0             1440.0        0.5           10.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
dtypes=
A_id                            object
A_id_num                         int64
A_lat                          float64
A_lon                          float64
A_seq                            int64
B_id                            object
B_id_num                         int64
B_lat                          float64
B_lon                          float64
B_seq                            int64
board_state                     object
bump_iter                        int64
chosen                          object
linkmode                        object
linknum                          int64
mode                            object
mode_num                       float64
pathnum                          int64
person_id                       object
person_trip_id                  object
pf_A_time               datetime64[ns]
pf_B_time               datetime64[ns]
pf_iteration                   float64
pf_linkcost                    float64
pf_linkdist                    float64
pf_linkfare                    float64
pf_linktime            timedelta64[ns]
pf_waittime            timedelta64[ns]
route_id                        object
split_first                       bool
trace                             bool
trip_id                         object
trip_id_num                    float64
trip_list_id_num                 int64
board_time              datetime64[ns]
overcap                        float64
overcap_frac                   float64
alight_time             datetime64[ns]
alight_delay_min               float64
new_A_time              datetime64[ns]
new_B_time              datetime64[ns]
new_linktime           timedelta64[ns]
new_waittime           timedelta64[ns]
missed_xfer                      int64
fare                             int64
fare_period                     object
from_fare_period                object
transfer_fare_type              object
transfer_fare                   object
free_transfer                   object
distance                       float64
user_class                      object
purpose                         object
vot                            float64
demand_mode                     object
demand_mode_type                object
supply_mode                     object
supply_mode_num                  int64
weight_name                     object
weight_value                   float64
var_value                      float64
start_time_min walk            float64
end_time_min walk              float64
dist walk                      float64
time_min walk                  float64
departure_time          datetime64[ns]
arrival_time            datetime64[ns]
time_target                     object
dtype: object
2017-05-11 13:38:43 [DEBUG/MainProcess] Missing 0 out of 84 access/egress var_value values
2017-05-11 13:38:43 [DEBUG/MainProcess] cost_trip_df trace
   A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num     B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum       mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value
42    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301          at_capacity        9999.0        NaN
43    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301  in_vehicle_time_min           1.0        NaN
44    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301        wait_time_min           2.0        NaN
45    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301                 fare           6.0        0.0
dtypes=
A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                    object
bump_iter                       int64
chosen                         object
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
split_first                      bool
trace                            bool
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
dtype: object
2017-05-11 13:38:43 [DEBUG/MainProcess] cost_trip_df trace
   A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num     B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum       mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value  at_capacity
42    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301          at_capacity        9999.0        0.0          0.0
43    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301  in_vehicle_time_min           1.0       12.0          0.0
44    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301        wait_time_min           2.0        0.0          0.0
45    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded         -1  iter1.01 sim0  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301                 fare           6.0        0.0          0.0
dtypes=
A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                    object
bump_iter                       int64
chosen                         object
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
split_first                      bool
trace                            bool
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
at_capacity                   float64
dtype: object
2017-05-11 13:38:43 [DEBUG/MainProcess] Missing 0 out of 296 transit trip var_value values
2017-05-11 13:38:43 [DEBUG/MainProcess] add_transfer_attributes: transfer_links_df(64) head(20)=
    A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter chosen  linkmode  linknum      mode  mode_num  pathnum      person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num board_time  overcap  overcap_frac alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num       weight_name  weight_value  var_value
380    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
381    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
382    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN         -1    NaN  transfer        2  transfer       1.0        1       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                11        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
383    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN         -1    NaN  transfer        2  transfer       1.0        1       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                11        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
384    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        2       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
385    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        2       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
386    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
387    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
388    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN         -1    NaN  transfer        2  transfer       1.0        1  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                12        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
389    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN         -1    NaN  transfer        2  transfer       1.0        1  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                12        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
390    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        2  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
391    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        2  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
392    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
393    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
394    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN         -1    NaN  transfer        2  transfer       1.0        1  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                13        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
395    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN         -1    NaN  transfer        2  transfer       1.0        1  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                13        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
396    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        2  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
397    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        2  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
398    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0   Julius Hodge              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                14        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
399    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN         -1    NaN  transfer        2  transfer       1.0        0   Julius Hodge              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                14        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
transfers_df head(20)=
  from_stop_id  min_transfer_time to_stop_id  transfer_type stop2stop  dist from_route_id to_route_id  transfer_penalty  min_transfer_time_min  time_min     time  from_stop_id_num  to_stop_id_num
0            B                0.0         B2              0      True   0.4          None        None               1.0                    0.0       8.0 00:08:00                 2               6
1            B                0.0         B1              0      True   0.3          None        None               1.0                    0.0       6.0 00:06:00                 2               5
2017-05-11 13:38:43 [DEBUG/MainProcess] add_transfer_attributes: have 0 transfers with routes and 2 transfers without routes
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column A_id_num
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column A_lat
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column A_lon
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column A_seq
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column B_id_num
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column B_lat
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column B_lon
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column B_seq
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column bump_iter
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column linknum
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column mode_num
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column pathnum
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column pf_iteration
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column pf_linkcost
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column pf_linkdist
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column pf_linkfare
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column trip_id_num
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column trip_list_id_num
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column overcap
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column overcap_frac
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column alight_delay_min
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column missed_xfer
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column fare
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column distance
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column vot
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column supply_mode_num
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column weight_value
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column var_value
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column min_transfer_time
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column transfer_type
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column dist
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column transfer_penalty
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column min_transfer_time_min
2017-05-11 13:38:43 [DEBUG/MainProcess] Using numeric column time_min
2017-05-11 13:38:43 [DEBUG/MainProcess] Missing 0 out of 64 transfer var_value values
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_cost: cost_df
   person_id person_trip_id  trip_list_id_num trace user_class     purpose   vot  pathnum  linknum demand_mode_type demand_mode  supply_mode  supply_mode_num          weight_name  weight_value  var_value  missed_xfer  bump_iter  fare  sim_cost
0     Tuffie              1                 1  True        all  basketball  10.0        0        0           access        walk  walk_access              101             time_min           2.0        2.0            0         -1     0       4.0
42    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301          at_capacity        9999.0        0.0            0         -1     0       0.0
43    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301  in_vehicle_time_min           1.0       12.0            0         -1     0      12.0
44    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301        wait_time_min           2.0        0.0            0         -1     0       0.0
45    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301                 fare           6.0        0.0            0         -1     0       0.0
42    Tuffie              1                 1  True        all  basketball  10.0        0        2           egress        walk  walk_egress              201             time_min           2.0       10.0            0         -1     0      20.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_cost: cost_link_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  linknum  sim_cost
0                 1    Tuffie              1  True        0        0       4.0
1                 1    Tuffie              1  True        0        1      12.0
2                 1    Tuffie              1  True        0        2      20.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  sim_cost
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000      20.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() pathset_links_to_use (190) head=
   A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum         mode  mode_num  pathnum          person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance
0     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0             Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True   True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
1     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0             Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True   True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
2     F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0             Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True   True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
3     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0            Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 2                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
4     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0            Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 2 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
5     F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0            Rameses              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 2                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
6     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0     Michael Jordan              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 3                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
7     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0     Michael Jordan              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 3 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
8     F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0     Michael Jordan              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 3                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
9     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0   Jerry Stackhouse              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 4                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
10    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0   Jerry Stackhouse              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 4 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
11    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0   Jerry Stackhouse              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 4                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
12    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0         Dean Smith              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 5                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
13    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0         Dean Smith              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 5 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
14    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0         Dean Smith              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 5                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
15    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0       Vince Carter              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 6                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
16    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0       Vince Carter              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 6 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
17    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0       Vince Carter              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 6                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
18    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0     Antown Jamison              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 7                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
19    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0     Antown Jamison              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 7 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
20    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0     Antown Jamison              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 7                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
21    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0      Serge Zwikker              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 8                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
22    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0      Serge Zwikker              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 8 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
23    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0      Serge Zwikker              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 8                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
24    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0     Dante Calabria              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 9                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
25    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0     Dante Calabria              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 9 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
26    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0     Dante Calabria              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 9                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
27    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0  Shammond Williams              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                10                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
28    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0  Shammond Williams              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                10 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
29    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0  Shammond Williams              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                10                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() chunk_list size=26 head=
   trip_list_id_num  chunk_num
0                 1          0
1                 2          0
2                 3          0
3                 4          0
4                 5          0
tail=
    trip_list_id_num  chunk_num
21                22          0
22                23          0
23                24          0
24                25          0
25                26          0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() mem_use=Uknown; please install python package psutil pathset_links_to_use has length 190, head=
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter         chosen linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  chunk_num
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True   True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000          0
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True   True      O1          9.0                 1 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158          0
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN  iter1.01 sim0   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True   True     NaN          NaN                 1                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000          0
3    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN  iter1.01 sim0   access        0  walk_access     101.0        0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 2                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000          0
4    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  iter1.01 sim0  transit        1    local_bus     301.0        0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 2 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158          0
2017-05-11 13:38:43 [INFO/MainProcess]           Calculating overlap for chunk    1/   1 (len    190);  mem_use=Uknown; please install python package psutil
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil overlap_df has length 190, head=
  person_id person_trip_id  trip_list_id_num  trace  pathnum  linknum  A_id_num  B_id_num         mode  new_linktime  distance
0    Tuffie              1                 1   True        0        0         9         3  walk_access      00:02:00  0.100000
1    Tuffie              1                 1   True        0        1         3         4    local_bus      00:12:00  0.571158
2    Tuffie              1                 1   True        0        2         4        10  walk_egress      00:10:00  0.500000
3   Rameses              1                 2  False        0        0         9         3  walk_access      00:02:00  0.100000
4   Rameses              1                 2  False        0        1         3         4    local_bus      00:12:00  0.571158
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Added path summed count,time,distance. mem_use=Uknown; please install python package psutil overlap_path_df has length 42, head=
   trip_list_id_num         person_id person_trip_id  trace  pathnum  path_count  path_distance  path_time
0                 1            Tuffie              1   True        0           3       1.171158   00:24:00
1                 2           Rameses              1  False        0           3       1.171158   00:24:00
2                 3    Michael Jordan              1  False        0           3       1.171158   00:24:00
3                 4  Jerry Stackhouse              1  False        0           3       1.171158   00:24:00
4                 5        Dean Smith              1  False        0           3       1.171158   00:24:00
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap(): overlap_df trace
  person_id person_trip_id  trip_list_id_num trace  pathnum_x  linknum_x  A_id_num_x  B_id_num_x       mode_x  new_linktime_x  distance_x  path_count_x  path_distance_x  path_time_x  pathnum_y  linknum_y  A_id_num_y  B_id_num_y       mode_y  new_linktime_y  distance_y  path_count_y  path_distance_y  path_time_y  match  link_prop_x  pathlen_x_y  pathlen_x_y_scale
0    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
1    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
2    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
3    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
4    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      1     0.333333          1.0                1.0
5    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
6    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
7    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
8    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() trace overlap_df
   trip_list_id_num person_id person_trip_id trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1  True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1  True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1  True          0          2     0.333333                1.0  0.333333
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Cartesian product of links. mem_use=Uknown; please install python package psutil overlap_df has length 190, head=
   trip_list_id_num person_id person_trip_id  trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1   True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1   True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1   True          0          2     0.333333                1.0  0.333333
3                 2   Rameses              1  False          0          0     0.333333                1.0  0.333333
4                 2   Rameses              1  False          0          1     0.333333                1.0  0.333333
2017-05-11 13:38:43 [DEBUG/MainProcess] PathSize min=0.433333 max=1.000000
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() overlap_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum_x   PS  ln_PS
0                 1    Tuffie              1  True          0  1.0    0.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil full_overlap_df has length 42
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_overlap() complete: full_overlap_df head=
    trip_list_id_num          person_id person_trip_id  trace  pathnum     ln_PS
0                  1             Tuffie              1   True        0  0.000000
1                  2            Rameses              1  False        0  0.000000
2                  3     Michael Jordan              1  False        0  0.000000
3                  4   Jerry Stackhouse              1  False        0  0.000000
4                  5         Dean Smith              1  False        0  0.000000
5                  6       Vince Carter              1  False        0  0.000000
6                  7     Antown Jamison              1  False        0  0.000000
7                  8      Serge Zwikker              1  False        0  0.000000
8                  9     Dante Calabria              1  False        0  0.000000
9                 10  Shammond Williams              1  False        0  0.000000
10                11           Mrs. Wuf              1  False        0 -0.836248
11                11           Mrs. Wuf              1  False        1 -0.310155
12                11           Mrs. Wuf              1  False        2 -0.836248
13                12      Marcus Melvin              1  False        0 -0.836248
14                12      Marcus Melvin              1  False        1 -0.310155
15                12      Marcus Melvin              1  False        2 -0.836248
16                13      Archie Miller              1  False        0 -0.836248
17                13      Archie Miller              1  False        1 -0.310155
18                13      Archie Miller              1  False        2 -0.836248
19                14       Julius Hodge              1  False        0 -0.836248
20                14       Julius Hodge              1  False        1 -0.310155
21                14       Julius Hodge              1  False        2 -0.836248
22                15     Illian Evtimov              1  False        0 -0.836248
23                15     Illian Evtimov              1  False        1 -0.310155
24                15     Illian Evtimov              1  False        2 -0.836248
25                16   Scooter Sherrill              1  False        0 -0.836248
26                16   Scooter Sherrill              1  False        1 -0.310155
27                16   Scooter Sherrill              1  False        2 -0.836248
28                17        Josh Powell              1  False        0 -0.836248
29                17        Josh Powell              1  False        1 -0.310155
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_cost: cost_path_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  sim_cost
0                 1    Tuffie              1  True        0      36.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
   bump_iter         chosen                                          description  pathdir pathmode  pathnum person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0  True                 1            0      36.0    0.0
2017-05-11 13:38:43 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
   bump_iter         chosen                                          description  pathdir pathmode  pathnum person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0  True                 1            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:43 [INFO/MainProcess]   Step 4. Choose a path for each passenger from their pathset
2017-05-11 13:38:43 [INFO/MainProcess]           Rejecting 0 previously chosen paths for huge costs
2017-05-11 13:38:43 [DEBUG/MainProcess] rejected_paths head(20): 
Empty DataFrame
Columns: [bump_iter, chosen, description, pathdir, pathmode, pathnum, person_id, person_trip_id, pf_cost, pf_fare, pf_initcost, pf_initfare, pf_iteration, pf_probability, trace, trip_list_id_num, missed_xfer, sim_cost, ln_PS, logsum_component, logsum, probability]
Index: []
2017-05-11 13:38:43 [INFO/MainProcess]           Have     26 total passenger-trips, with     10 chosen paths,      0 fully rejected and     16 needing a choice
2017-05-11 13:38:43 [DEBUG/MainProcess] choose_path() paths_choose_df=
    bump_iter    chosen                                                                          description  pathdir pathmode  pathnum           person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  trace  trip_list_id_num  missed_xfer  sim_cost     ln_PS  logsum_component        logsum  probability  to_choose      rand  prob_cum rand_less
10        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0            Mrs. Wuf              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                11            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.182257  0.675197      True
11        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1            Mrs. Wuf              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                11            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.182257  0.998326      True
12        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2            Mrs. Wuf              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                11            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.182257  1.000000      True
13        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0       Marcus Melvin              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                12            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.742470  0.675197     False
14        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1       Marcus Melvin              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                12            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.742470  0.998326      True
15        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2       Marcus Melvin              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                12            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.742470  1.000000      True
16        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0       Archie Miller              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                13            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.115007  0.675197      True
17        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1       Archie Miller              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                13            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.115007  0.998326      True
18        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2       Archie Miller              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                13            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.115007  1.000000      True
19        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0        Julius Hodge              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                14            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.207082  0.675197      True
20        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1        Julius Hodge              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                14            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.207082  0.998326      True
21        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2        Julius Hodge              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                14            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.207082  1.000000      True
22        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0      Illian Evtimov              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                15            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.040710  0.675197      True
23        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1      Illian Evtimov              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                15            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.040710  0.998326      True
24        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2      Illian Evtimov              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                15            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.040710  1.000000      True
25        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0    Scooter Sherrill              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                16            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.743539  0.675197     False
26        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1    Scooter Sherrill              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                16            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.743539  0.998326      True
27        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2    Scooter Sherrill              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                16            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.743539  1.000000      True
28        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0         Josh Powell              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                17            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.841741  0.675197     False
29        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1         Josh Powell              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                17            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.841741  0.998326      True
30        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2         Josh Powell              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                17            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.841741  1.000000      True
31        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0      Anthony Grundy              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                18            0      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197        1.0  0.653590  0.675197      True
32        NaN  unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1      Anthony Grundy              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                18            0      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129        1.0  0.653590  0.998326      True
33        NaN  unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2      Anthony Grundy              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                18            0      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674        1.0  0.653590  1.000000      True
34        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0             Mike K.              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                19            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.392154  1.000000      True
35        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0          Jeff Capel              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                20            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.233132  1.000000      True
36        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0          Grant Hill              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                21            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.212333  1.000000      True
37        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0        Bobby Hurley              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                22            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.950283  1.000000      True
38        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0  Christian Laettner              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                23            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.872475  1.000000      True
39        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0       Carlos Boozer              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                24            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.482191  1.000000      True
40        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0     Jayson Williams              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                25            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.397194  1.000000      True
41        NaN  unchosen  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        0       Shane Battier              1     49.0      0.0         49.0          0.0          1.02        1.000000  False                26            0      49.0  0.000000      2.289735e-11  2.289735e-11     1.000000        1.0  0.069582  1.000000      True

2017-05-11 13:38:43 [DEBUG/MainProcess] choose_path() pathset_paths_df=
   bump_iter         chosen                                          description  pathdir pathmode  pathnum person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability  to_choose  rand  chosen_idx
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0  True                 1            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0        NaN   NaN         NaN

2017-05-11 13:38:43 [INFO/MainProcess]           Chose 16 out of 26 paths from the pathsets => total chosen 26
2017-05-11 13:38:43 [INFO/MainProcess]   Step 5. Put passenger paths on transit vehicles to get vehicle boards/alights/load and assess capacity constraints
2017-05-11 13:38:43 [INFO/MainProcess]   Step 5.1 Put passengers on transit vehicles.
2017-05-11 13:38:43 [DEBUG/MainProcess] veh_loaded_df with onboard>0: (showing head)
    trip_id_num  stop_sequence        arrival_time      departure_time  shape_dist_traveled stop_id trip_id  arrival_time_min  departure_time_min  stop_id_num  original_travel_time  travel_time  travel_time_sec  dwell_time  dwell_time_sec direction_id route_id service_id vehicle_name  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num  max_stop_seq trip_departure_time  friction  standees  overcap  msa_boards  msa_alights  msa_onboard  msa_friction  msa_standees  msa_overcap  overcap_frac  boards  alights  onboard
0             1              1 2016-01-01 07:25:57 2016-01-01 07:26:00                  0.0      B2      G4            445.95               446.0            6              00:08:00     00:08:00            480.0    00:00:03             3.0            1    Green        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3             2 2016-01-01 07:26:00       0.0         0       -2         0.0          0.0          0.0           0.0           0.0         -1.0     -0.250000       8        0        8
2             2              1 2016-01-01 07:19:57 2016-01-01 07:20:00                  0.0      B2      G3            439.95               440.0            6              00:08:00     00:08:00            480.0    00:00:03             3.0            1    Green        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3             2 2016-01-01 07:20:00       0.0         0       -5         0.0          0.0          0.0           0.0           0.0         -1.0     -1.000000       5        0        5
8             5              1 2016-01-01 07:17:57 2016-01-01 07:18:00                  0.0      B1      R2            437.95               438.0            5              00:06:00     00:06:00            360.0    00:00:03             3.0            1      Red        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       Route Red              Red           3  local_bus       301   transit             4             2 2016-01-01 07:18:00       0.0         0       -7         0.0          0.0          0.0           0.0           0.0         -1.0     -2.333333       3        0        3
12            7              1 2016-01-01 07:03:57 2016-01-01 07:04:00                  0.0       A      B2            423.95               424.0            1              00:08:00     00:08:00            480.0    00:00:03             3.0            1     Blue        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667      Route Blue             Blue           3  local_bus       301   transit             1             2 2016-01-01 07:04:00       0.0         0       -2         0.0          0.0          0.0           0.0           0.0         -1.0     -0.250000       8        0        8
14            8              1 2016-01-01 07:09:57 2016-01-01 07:10:00                  0.0       A      B3            429.95               430.0            1              00:08:00     00:08:00            480.0    00:00:03             3.0            1     Blue        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667      Route Blue             Blue           3  local_bus       301   transit             1             2 2016-01-01 07:10:00       0.0         0       -2         0.0          0.0          0.0           0.0           0.0         -1.0     -0.250000       8        0        8
2017-05-11 13:38:43 [DEBUG/MainProcess] after putting passengers on vehicles, veh_loaded_df with onboard.head(30) = 
   route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
0     Green      G4              1      B2        10       8        0        8       -2     -0.250000
2     Green      G3              1      B2        10       5        0        5       -5     -1.000000
8       Red      R2              1      B1        10       3        0        3       -7     -2.333333
12     Blue      B2              1       A        10       8        0        8       -2     -0.250000
14     Blue      B3              1       A        10       8        0        8       -2     -0.250000
16   Orange      O1              1       E        10      10        0       10        0      0.000000
2017-05-11 13:38:43 [INFO/MainProcess]   Step 5.2 Capacity constraints on transit vehicles.
2017-05-11 13:38:43 [INFO/MainProcess]           Bumping one at a time? false
2017-05-11 13:38:43 [DEBUG/MainProcess] pathset_links_df.head(20)=
           person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen
0             Tuffie              1                 1        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
1             Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
2             Tuffie              1                 1        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
3            Rameses              1                 2        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
4            Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
5            Rameses              1                 2        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
6     Michael Jordan              1                 3        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
7     Michael Jordan              1                 3        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
8     Michael Jordan              1                 3        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
9   Jerry Stackhouse              1                 4        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
10  Jerry Stackhouse              1                 4        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
11  Jerry Stackhouse              1                 4        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
12        Dean Smith              1                 5        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
13        Dean Smith              1                 5        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
14        Dean Smith              1                 5        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
15      Vince Carter              1                 6        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
16      Vince Carter              1                 6        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
17      Vince Carter              1                 6        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
18    Antown Jamison              1                 7        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
19    Antown Jamison              1                 7        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0         NaN        NaN  iter1.01 sim0
2017-05-11 13:38:44 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() 0 vehicle trip/stops over capacity: (showing head)
Empty DataFrame
Columns: [route_id, trip_id, stop_sequence, stop_id, capacity, boards, alights, onboard, overcap, overcap_frac]
Index: []
2017-05-11 13:38:44 [INFO/MainProcess]           No over-capacity vehicles
2017-05-11 13:38:44 [DEBUG/MainProcess] Bump_wait_df:
            pf_A_time  pf_A_time_min  stop_id_num  stop_sequence trip_id  trip_id_num
0 2016-01-01 07:10:00          430.0            3              1      O1            9
2017-05-11 13:38:44 [INFO/MainProcess]   Step 6. Update dwell and travel times for transit vehicles
2017-05-11 13:38:44 [DEBUG/MainProcess] Trip.update_trip_times() trips_df has 20 rows
2017-05-11 13:38:44 [DEBUG/MainProcess] dwell_formula 3 + 2*[boards] + 1.5*[alights] has 20 rows
2017-05-11 13:38:44 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence  max_stop_seq next_does_stop next_is_last_stop
0            1              0             2           True             False
1            1              1             2           True              True
2            2              0             2           True             False
3            2              1             2           True              True
4            3              0             2          False             False

2017-05-11 13:38:44 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell
0            1              1 2016-01-01 07:26:00          00:08:19                  19.0          00:00:19
1            1              2 2016-01-01 07:26:00          00:08:34                  19.0          00:00:19
2            2              1 2016-01-01 07:20:00          00:08:13                  13.0          00:00:13
3            2              2 2016-01-01 07:20:00   00:08:23.500000                  13.0          00:00:13
4            3              1 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03

2017-05-11 13:38:44 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell   trip_arrival_time        new_arrival_time
0            1              2 2016-01-01 07:26:00          00:08:19                  19.0          00:00:19 2016-01-01 07:25:41 2016-01-01 07:34:00.000
1            1              3 2016-01-01 07:26:00          00:08:34                  19.0          00:00:19 2016-01-01 07:25:41 2016-01-01 07:34:15.000
2            2              2 2016-01-01 07:20:00          00:08:13                  13.0          00:00:13 2016-01-01 07:19:47 2016-01-01 07:28:00.000
3            2              3 2016-01-01 07:20:00   00:08:23.500000                  13.0          00:00:13 2016-01-01 07:19:47 2016-01-01 07:28:10.500
4            3              2 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03 2016-01-01 07:09:57 2016-01-01 07:18:00.000

2017-05-11 13:38:44 [DEBUG/MainProcess] Trips:update_trip_times() trips_df:
   trip_id  trip_id_num  stop_sequence        arrival_time          departure_time  max_speed_fps  acceleration  deceleration  seated_capacity  boards  alights  onboard  standees  friction does_stop next_does_stop next_is_last_stop  accel_secs  decel_secs  dwell_time_sec  travel_dwell_sec  travel_dwell_sec_cum    new_arrival_time
0       G4            1              1 2016-01-01 07:25:41 2016-01-01 07:26:00.000      36.666667           3.4           4.0                5       8        0        8         3      11.0      True           True              True         0.0         0.0            19.0             499.0                 499.0                 NaT
1       G4            1              2 2016-01-01 07:34:00 2016-01-01 07:34:15.000      36.666667           3.4           4.0                5       0        8        0         0       0.0      True            NaN               NaN         0.0         0.0            15.0              15.0                 514.0 2016-01-01 07:34:00
2       G3            2              1 2016-01-01 07:19:47 2016-01-01 07:20:00.000      36.666667           3.4           4.0                5       5        0        5         0       0.0      True           True              True         0.0         0.0            13.0             493.0                 493.0                 NaT
3       G3            2              2 2016-01-01 07:28:00 2016-01-01 07:28:10.500      36.666667           3.4           4.0                5       0        5        0         0       0.0      True            NaN               NaN         0.0         0.0            10.5              10.5                 503.5 2016-01-01 07:28:00
4       G2            3              1 2016-01-01 07:09:57 2016-01-01 07:10:00.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
5       G2            3              2 2016-01-01 07:18:00 2016-01-01 07:18:03.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:18:00
6       G1            4              1 2016-01-01 07:01:57 2016-01-01 07:02:00.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
7       G1            4              2 2016-01-01 07:10:00 2016-01-01 07:10:03.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:10:00
8       R2            5              1 2016-01-01 07:17:51 2016-01-01 07:18:00.000      36.666667           3.4           4.0                5       3        0        3         0       0.0      True           True              True         0.0         0.0             9.0             369.0                 369.0                 NaT
9       R2            5              2 2016-01-01 07:24:00 2016-01-01 07:24:07.500      36.666667           3.4           4.0                5       0        3        0         0       0.0      True            NaN               NaN         0.0         0.0             7.5               7.5                 376.5 2016-01-01 07:24:00
10      B1            6              1 2016-01-01 06:55:57 2016-01-01 06:56:00.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
11      B1            6              2 2016-01-01 07:04:00 2016-01-01 07:04:03.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:04:00
12      B2            7              1 2016-01-01 07:03:41 2016-01-01 07:04:00.000      36.666667           3.4           4.0                5       8        0        8         3      11.0      True           True              True         0.0         0.0            19.0             499.0                 499.0                 NaT
13      B2            7              2 2016-01-01 07:12:00 2016-01-01 07:12:15.000      36.666667           3.4           4.0                5       0        8        0         0       0.0      True            NaN               NaN         0.0         0.0            15.0              15.0                 514.0 2016-01-01 07:12:00
14      B3            8              1 2016-01-01 07:09:41 2016-01-01 07:10:00.000      36.666667           3.4           4.0                5       8        0        8         3      11.0      True           True              True         0.0         0.0            19.0             499.0                 499.0                 NaT

2017-05-11 13:38:44 [DEBUG/MainProcess] trips_df.dtypes=
trip_id_num                       int64
stop_sequence                     int64
arrival_time             datetime64[ns]
departure_time           datetime64[ns]
shape_dist_traveled             float64
stop_id                          object
trip_id                          object
arrival_time_min                float64
departure_time_min              float64
stop_id_num                       int64
original_travel_time    timedelta64[ns]
travel_time             timedelta64[ns]
travel_time_sec                 float64
dwell_time              timedelta64[ns]
dwell_time_sec                  float64
direction_id                     object
route_id                         object
service_id                       object
vehicle_name                     object
seated_capacity                   int64
standing_capacity                 int64
max_speed                         int64
acceleration                    float64
deceleration                    float64
dwell_formula                    object
capacity                          int64
max_speed_fps                   float64
route_long_name                  object
route_short_name                 object
route_type                        int64
mode                             object
mode_num                          int64
mode_type                        object
route_id_num                      int64
max_stop_seq                      int64
trip_departure_time      datetime64[ns]
friction                        float64
standees                          int64
overcap                           int64
msa_boards                      float64
msa_alights                     float64
msa_onboard                     float64
msa_friction                    float64
msa_standees                    float64
msa_overcap                     float64
overcap_frac                    float64
boards                            int64
alights                           int64
onboard                           int64
dtype: object

2017-05-11 13:38:44 [INFO/MainProcess] Simulation Iteration 1
2017-05-11 13:38:44 [INFO/MainProcess]   Step 1. Find out board/alight times for all pathset links from vehicle times
2017-05-11 13:38:44 [INFO/MainProcess]   Step 2. Flag missed transfer links and paths in the pathsets
2017-05-11 13:38:44 [DEBUG/MainProcess] flag_missed_transfers() pathset_links_df (190):
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  sim_cost         chosen          board_time  overcap  overcap_frac         alight_time
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True   True     NaN          NaN                 1     0        None             None               None          None          None  0.100000       4.0  iter1.01 sim0                 NaT      NaN           NaN                 NaT
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True   True      O1          9.0                 1     0        None             None               None          None          None  0.571158      12.0  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True   True     NaN          NaN                 1     0        None             None               None          None          None  0.500000      20.0  iter1.01 sim0                 NaT      NaN           NaN                 NaT
3    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 2     0        None             None               None          None          None  0.100000       4.0  iter1.01 sim0                 NaT      NaN           NaN                 NaT
4    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 2     0        None             None               None          None          None  0.571158      12.0  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2017-05-11 13:38:44 [DEBUG/MainProcess] Biggest alight_delay = 0.000000
2017-05-11 13:38:44 [DEBUG/MainProcess] A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                    object
bump_iter                     float64
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
split_first                      bool
trace                            bool
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
sim_cost                      float64
chosen                         object
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
dtype: object
2017-05-11 13:38:44 [INFO/MainProcess]           flag_missed_transfers found 0 missed transfer trip legs for 0 paths
2017-05-11 13:38:44 [DEBUG/MainProcess] flag_missed_transfers() pathset_paths_df (42):
    bump_iter         chosen                                                                          description  pathdir pathmode  pathnum          person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  trace  trip_list_id_num  sim_cost     ln_PS  logsum_component        logsum  probability  missed_xfer
0         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0             Tuffie              1     36.0      0.0         36.0          0.0          1.01        1.000000   True                 1      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
1         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0            Rameses              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 2      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
2         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0     Michael Jordan              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 3      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
3         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0   Jerry Stackhouse              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 4      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
4         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0         Dean Smith              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 5      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
5         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0       Vince Carter              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 6      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
6         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0     Antown Jamison              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 7      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
7         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0      Serge Zwikker              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 8      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
8         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0     Dante Calabria              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                 9      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
9         NaN  iter1.01 sim0                                  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0  Shammond Williams              1     36.0      0.0         36.0          0.0          1.01        1.000000  False                10      36.0  0.000000      1.522998e-08  1.522998e-08     1.000000            0
10        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0           Mrs. Wuf              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                11      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
11        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1           Mrs. Wuf              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                11      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
12        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2           Mrs. Wuf              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                11      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674            0
13        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0      Marcus Melvin              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                12      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
14        NaN  iter1.02 sim0    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1      Marcus Melvin              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                12      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
15        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2      Marcus Melvin              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                12      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674            0
16        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0      Archie Miller              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                13      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
17        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1      Archie Miller              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                13      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
18        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2      Archie Miller              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                13      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674            0
19        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0       Julius Hodge              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                14      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
20        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1       Julius Hodge              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                14      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
21        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2       Julius Hodge              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                14      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674            0
22        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0     Illian Evtimov              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                15      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
23        NaN       unchosen    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1     Illian Evtimov              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                15      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
24        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2     Illian Evtimov              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                15      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674            0
25        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0   Scooter Sherrill              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                16      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
26        NaN  iter1.02 sim0    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1   Scooter Sherrill              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                16      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
27        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G4 C2 walk_egress D        2  transit        2   Scooter Sherrill              1     61.0      0.0         61.0          0.0          1.02        0.001809  False                16      61.0 -0.836248      3.736193e-14  2.232367e-11     0.001674            0
28        NaN       unchosen  O walk_access A local_bus Blue_B2 B transfer B2 local_bus Green_G3 C2 walk_egress D        2  transit        0        Josh Powell              1     49.0      0.0         49.0          0.0          1.02        0.729736  False                17      49.0 -0.836248      1.507288e-11  2.232367e-11     0.675197            0
29        NaN  iter1.02 sim0    O walk_access A local_bus Blue_B2 B transfer B1 local_bus Red_R2 C1 walk_egress D        2  transit        1        Josh Powell              1     51.0      0.0         51.0          0.0          1.02        0.268455  False                17      51.0 -0.310155      7.213423e-12  2.232367e-11     0.323129            0
2017-05-11 13:38:44 [INFO/MainProcess]   Step 3. Calculate costs and probabilities for all pathset paths
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1     0        None             None               None          None          None  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1     0        None             None               None          None          None  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1     0        None             None               None          None          None  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: trip_list_df trace
  person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class trace
0    Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all  True
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost columns:
['A_id', 'A_id_num', 'A_lat', 'A_lon', 'A_seq', 'B_id', 'B_id_num', 'B_lat', 'B_lon', 'B_seq', 'board_state', 'bump_iter', 'linkmode', 'linknum', 'mode', 'mode_num', 'pathnum', 'person_id', 'person_trip_id', 'pf_A_time', 'pf_B_time', 'pf_iteration', 'pf_linkcost', 'pf_linkdist', 'pf_linkfare', 'pf_linktime', 'pf_waittime', 'route_id', 'split_first', 'trace', 'trip_id', 'trip_id_num', 'trip_list_id_num', 'fare', 'fare_period', 'from_fare_period', 'transfer_fare_type', 'transfer_fare', 'free_transfer', 'chosen', 'board_time', 'overcap', 'overcap_frac', 'alight_time', 'alight_delay_min', 'new_A_time', 'new_B_time', 'new_linktime', 'new_waittime', 'missed_xfer']
2017-05-11 13:38:44 [INFO/MainProcess]           Adding fares to pathset
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: pathset_links_cost_df trace
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        all  basketball  10.0        walk
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        all  basketball  10.0        walk
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: cost_df
    A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type  supply_mode  supply_mode_num          weight_name  weight_value
0      O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000        all  basketball  10.0        walk           access  walk_access              101             time_min           2.0
42     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301          at_capacity        9999.0
43     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301  in_vehicle_time_min           1.0
44     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301        wait_time_min           2.0
45     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit    local_bus              301                 fare           6.0
338    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000        all  basketball  10.0        walk           egress  walk_egress              201             time_min           2.0
2017-05-11 13:38:44 [DEBUG/MainProcess] Access/egress link_df walk
                                                                 dist  time_min
taz_num supply_mode_num stop_id_num start_time_min end_time_min                
9       101             1           0.0            1440.0         0.2       4.0
                        3           0.0            1440.0         0.1       2.0
10      201             8           0.0            1440.0         0.3       6.0
                        7           0.0            1440.0         0.1       2.0
                        4           0.0            1440.0         0.5      10.0
2017-05-11 13:38:44 [DEBUG/MainProcess] walk link_df =
   supply_mode_num  start_time_min  end_time_min  dist  time_min  A_id_num  B_id_num
0              101             0.0        1440.0   0.2       4.0         9         1
1              101             0.0        1440.0   0.1       2.0         9         3
2              201             0.0        1440.0   0.3       6.0         8        10
3              201             0.0        1440.0   0.1       2.0         7        10
4              201             0.0        1440.0   0.5      10.0         4        10
2017-05-11 13:38:44 [DEBUG/MainProcess] Access/egress link_df drive
Empty DataFrame
Columns: []
Index: []
2017-05-11 13:38:44 [DEBUG/MainProcess] Dropping 0 rows from cost_accegr_df
2017-05-11 13:38:44 [DEBUG/MainProcess] cost_accegr_df trace
   A_id  A_id_num     A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num         chosen board_time  overcap  overcap_frac alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type  supply_mode  supply_mode_num weight_name  weight_value  var_value  start_time_min walk  end_time_min walk  dist walk  time_min walk      departure_time        arrival_time time_target
0     O         9       NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0          0.1          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None       0.1        all  basketball  10.0        walk           access  walk_access              101    time_min           2.0        2.0                  0.0             1440.0        0.1            2.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
42    F         4  35.78109 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0          0.5          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None       0.5        all  basketball  10.0        walk           egress  walk_egress              201    time_min           2.0       10.0                  0.0             1440.0        0.5           10.0 2016-01-01 07:00:00 2016-01-01 08:00:00   departure
dtypes=
A_id                            object
A_id_num                         int64
A_lat                          float64
A_lon                          float64
A_seq                            int64
B_id                            object
B_id_num                         int64
B_lat                          float64
B_lon                          float64
B_seq                            int64
board_state                     object
bump_iter                      float64
linkmode                        object
linknum                          int64
mode                            object
mode_num                       float64
pathnum                          int64
person_id                       object
person_trip_id                  object
pf_A_time               datetime64[ns]
pf_B_time               datetime64[ns]
pf_iteration                   float64
pf_linkcost                    float64
pf_linkdist                    float64
pf_linkfare                    float64
pf_linktime            timedelta64[ns]
pf_waittime            timedelta64[ns]
route_id                        object
split_first                       bool
trace                             bool
trip_id                         object
trip_id_num                    float64
trip_list_id_num                 int64
chosen                          object
board_time              datetime64[ns]
overcap                        float64
overcap_frac                   float64
alight_time             datetime64[ns]
alight_delay_min               float64
new_A_time              datetime64[ns]
new_B_time              datetime64[ns]
new_linktime           timedelta64[ns]
new_waittime           timedelta64[ns]
missed_xfer                      int64
fare                             int64
fare_period                     object
from_fare_period                object
transfer_fare_type              object
transfer_fare                   object
free_transfer                   object
distance                       float64
user_class                      object
purpose                         object
vot                            float64
demand_mode                     object
demand_mode_type                object
supply_mode                     object
supply_mode_num                  int64
weight_name                     object
weight_value                   float64
var_value                      float64
start_time_min walk            float64
end_time_min walk              float64
dist walk                      float64
time_min walk                  float64
departure_time          datetime64[ns]
arrival_time            datetime64[ns]
time_target                     object
dtype: object
2017-05-11 13:38:44 [DEBUG/MainProcess] Missing 0 out of 84 access/egress var_value values
2017-05-11 13:38:44 [DEBUG/MainProcess] cost_trip_df trace
   A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num     B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum       mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value
42    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301          at_capacity        9999.0        NaN
43    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301  in_vehicle_time_min           1.0        NaN
44    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301        wait_time_min           2.0        NaN
45    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301                 fare           6.0        0.0
dtypes=
A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                    object
bump_iter                     float64
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
split_first                      bool
trace                            bool
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
chosen                         object
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
dtype: object
2017-05-11 13:38:44 [DEBUG/MainProcess] cost_trip_df trace
   A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num     B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum       mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num          weight_name  weight_value  var_value  at_capacity
42    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301          at_capacity        9999.0        0.0          0.0
43    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301  in_vehicle_time_min           1.0       12.0          0.0
44    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301        wait_time_min           2.0        0.0          0.0
45    E         3  35.784089 -78.669354      1    F         4  35.78109 -78.659859      2     boarded        NaN  transit        1  local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158        all  basketball  10.0     transit          transit   local_bus              301                 fare           6.0        0.0          0.0
dtypes=
A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                    object
bump_iter                     float64
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
split_first                      bool
trace                            bool
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
chosen                         object
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
user_class                     object
purpose                        object
vot                           float64
demand_mode                    object
demand_mode_type               object
supply_mode                    object
supply_mode_num                 int64
weight_name                    object
weight_value                  float64
var_value                     float64
at_capacity                   float64
dtype: object
2017-05-11 13:38:44 [DEBUG/MainProcess] Missing 0 out of 296 transit trip var_value values
2017-05-11 13:38:44 [DEBUG/MainProcess] add_transfer_attributes: transfer_links_df(64) head(20)=
    A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter  linkmode  linknum      mode  mode_num  pathnum      person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num         chosen board_time  overcap  overcap_frac alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance user_class     purpose   vot demand_mode demand_mode_type supply_mode  supply_mode_num       weight_name  weight_value  var_value
380    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
381    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
382    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN        NaN  transfer        2  transfer       1.0        1       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                11       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
383    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN        NaN  transfer        2  transfer       1.0        1       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                11       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
384    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        2       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
385    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        2       Mrs. Wuf              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                11       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
386    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
387    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
388    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN        NaN  transfer        2  transfer       1.0        1  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                12  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
389    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN        NaN  transfer        2  transfer       1.0        1  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                12  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
390    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        2  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
391    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        2  Marcus Melvin              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                12       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
392    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
393    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
394    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN        NaN  transfer        2  transfer       1.0        1  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                13       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
395    B         2  35.781325 -78.666964     -1   B1         5  35.782526 -78.665118     -1         NaN        NaN  transfer        2  transfer       1.0        1  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:18:00          1.02         17.0          0.3          0.0     00:06:00          NaT      NaN        True  False     NaN          NaN                13       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:18:00      00:06:00           NaT            0     0        None             None               None          None          None       0.3        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
396    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        2  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
397    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        2  Archie Miller              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                13       unchosen        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
398    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0   Julius Hodge              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                14  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1  transfer_penalty           5.0        NaN
399    B         2  35.781325 -78.666964     -1   B2         6  35.779053 -78.667243     -1         NaN        NaN  transfer        2  transfer       1.0        0   Julius Hodge              1 2016-01-01 07:12:00 2016-01-01 07:20:00          1.02         21.0          0.4          0.0     00:08:00          NaT      NaN        True  False     NaN          NaN                14  iter1.02 sim0        NaT      NaN           NaN         NaT               0.0 2016-01-01 07:12:00 2016-01-01 07:20:00      00:08:00           NaT            0     0        None             None               None          None          None       0.4        all  basketball  10.0    transfer         transfer    transfer                1     walk_time_min           2.0        NaN
transfers_df head(20)=
  from_stop_id  min_transfer_time to_stop_id  transfer_type stop2stop  dist from_route_id to_route_id  transfer_penalty  min_transfer_time_min  time_min     time  from_stop_id_num  to_stop_id_num
0            B                0.0         B2              0      True   0.4          None        None               1.0                    0.0       8.0 00:08:00                 2               6
1            B                0.0         B1              0      True   0.3          None        None               1.0                    0.0       6.0 00:06:00                 2               5
2017-05-11 13:38:44 [DEBUG/MainProcess] add_transfer_attributes: have 0 transfers with routes and 2 transfers without routes
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column A_id_num
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column A_lat
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column A_lon
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column A_seq
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column B_id_num
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column B_lat
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column B_lon
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column B_seq
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column bump_iter
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column linknum
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column mode_num
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column pathnum
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column pf_iteration
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column pf_linkcost
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column pf_linkdist
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column pf_linkfare
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column trip_id_num
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column trip_list_id_num
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column overcap
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column overcap_frac
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column alight_delay_min
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column missed_xfer
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column fare
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column distance
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column vot
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column supply_mode_num
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column weight_value
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column var_value
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column min_transfer_time
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column transfer_type
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column dist
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column transfer_penalty
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column min_transfer_time_min
2017-05-11 13:38:44 [DEBUG/MainProcess] Using numeric column time_min
2017-05-11 13:38:44 [DEBUG/MainProcess] Missing 0 out of 64 transfer var_value values
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: cost_df
   person_id person_trip_id  trip_list_id_num trace user_class     purpose   vot  pathnum  linknum demand_mode_type demand_mode  supply_mode  supply_mode_num          weight_name  weight_value  var_value  missed_xfer  bump_iter  fare  sim_cost
0     Tuffie              1                 1  True        all  basketball  10.0        0        0           access        walk  walk_access              101             time_min           2.0        2.0            0        NaN     0       4.0
42    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301          at_capacity        9999.0        0.0            0        NaN     0       0.0
43    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301  in_vehicle_time_min           1.0       12.0            0        NaN     0      12.0
44    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301        wait_time_min           2.0        0.0            0        NaN     0       0.0
45    Tuffie              1                 1  True        all  basketball  10.0        0        1          transit     transit    local_bus              301                 fare           6.0        0.0            0        NaN     0       0.0
42    Tuffie              1                 1  True        all  basketball  10.0        0        2           egress        walk  walk_egress              201             time_min           2.0       10.0            0        NaN     0      20.0
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: cost_link_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  linknum  sim_cost
0                 1    Tuffie              1  True        0        0       4.0
1                 1    Tuffie              1  True        0        1      12.0
2                 1    Tuffie              1  True        0        2      20.0
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_cost: pathset_links_df trace
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  sim_cost
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000      20.0
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_overlap() pathset_links_to_use (190) head=
   A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum          person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance
0     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0             Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True   True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
1     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0             Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True   True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
2     F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0             Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True   True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
3     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0            Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 2  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
4     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0            Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 2  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
5     F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0            Rameses              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 2  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
6     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0     Michael Jordan              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 3  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
7     E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0     Michael Jordan              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 3  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
8     F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0     Michael Jordan              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 3  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
9     O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0   Jerry Stackhouse              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 4  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
10    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0   Jerry Stackhouse              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 4  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
11    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0   Jerry Stackhouse              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 4  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
12    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0         Dean Smith              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 5  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
13    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0         Dean Smith              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 5  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
14    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0         Dean Smith              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 5  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
15    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0       Vince Carter              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 6  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
16    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0       Vince Carter              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 6  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
17    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0       Vince Carter              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 6  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
18    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0     Antown Jamison              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 7  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
19    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0     Antown Jamison              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 7  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
20    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0     Antown Jamison              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 7  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
21    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0      Serge Zwikker              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 8  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
22    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0      Serge Zwikker              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 8  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
23    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0      Serge Zwikker              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 8  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
24    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0     Dante Calabria              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 9  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
25    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0     Dante Calabria              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 9  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
26    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0     Dante Calabria              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                 9  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
27    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0  Shammond Williams              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                10  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000
28    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0  Shammond Williams              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                10  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158
29    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0  Shammond Williams              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True  False     NaN          NaN                10  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000
2017-05-11 13:38:44 [DEBUG/MainProcess] calculate_overlap() chunk_list size=26 head=
   trip_list_id_num  chunk_num
0                 1          0
1                 2          0
2                 3          0
3                 4          0
4                 5          0
tail=
    trip_list_id_num  chunk_num
21                22          0
22                23          0
23                24          0
24                25          0
25                26          0
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() mem_use=Uknown; please install python package psutil pathset_links_to_use has length 190, head=
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num         chosen          board_time  overcap  overcap_frac         alight_time  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  chunk_num
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True   True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000          0
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True   True      O1          9.0                 1  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158          0
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True   True     NaN          NaN                 1  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000          0
3    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 2  iter1.01 sim0                 NaT      NaN           NaN                 NaT               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000          0
4    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 2  iter1.01 sim0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158          0
2017-05-11 13:38:45 [INFO/MainProcess]           Calculating overlap for chunk    1/   1 (len    190);  mem_use=Uknown; please install python package psutil
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil overlap_df has length 190, head=
  person_id person_trip_id  trip_list_id_num  trace  pathnum  linknum  A_id_num  B_id_num         mode  new_linktime  distance
0    Tuffie              1                 1   True        0        0         9         3  walk_access      00:02:00  0.100000
1    Tuffie              1                 1   True        0        1         3         4    local_bus      00:12:00  0.571158
2    Tuffie              1                 1   True        0        2         4        10  walk_egress      00:10:00  0.500000
3   Rameses              1                 2  False        0        0         9         3  walk_access      00:02:00  0.100000
4   Rameses              1                 2  False        0        1         3         4    local_bus      00:12:00  0.571158
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Added path summed count,time,distance. mem_use=Uknown; please install python package psutil overlap_path_df has length 42, head=
   trip_list_id_num         person_id person_trip_id  trace  pathnum  path_count  path_distance  path_time
0                 1            Tuffie              1   True        0           3       1.171158   00:24:00
1                 2           Rameses              1  False        0           3       1.171158   00:24:00
2                 3    Michael Jordan              1  False        0           3       1.171158   00:24:00
3                 4  Jerry Stackhouse              1  False        0           3       1.171158   00:24:00
4                 5        Dean Smith              1  False        0           3       1.171158   00:24:00
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap(): overlap_df trace
  person_id person_trip_id  trip_list_id_num trace  pathnum_x  linknum_x  A_id_num_x  B_id_num_x       mode_x  new_linktime_x  distance_x  path_count_x  path_distance_x  path_time_x  pathnum_y  linknum_y  A_id_num_y  B_id_num_y       mode_y  new_linktime_y  distance_y  path_count_y  path_distance_y  path_time_y  match  link_prop_x  pathlen_x_y  pathlen_x_y_scale
0    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
1    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
2    Tuffie              1                 1  True          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
3    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
4    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      1     0.333333          1.0                1.0
5    Tuffie              1                 1  True          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
6    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          0           9           3  walk_access        00:02:00    0.100000             3         1.171158     00:24:00      0     0.333333          1.0                0.0
7    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          1           3           4    local_bus        00:12:00    0.571158             3         1.171158     00:24:00      0     0.333333          1.0                0.0
8    Tuffie              1                 1  True          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00          0          2           4          10  walk_egress        00:10:00    0.500000             3         1.171158     00:24:00      1     0.333333          1.0                1.0
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() trace overlap_df
   trip_list_id_num person_id person_trip_id trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1  True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1  True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1  True          0          2     0.333333                1.0  0.333333
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: Cartesian product of links. mem_use=Uknown; please install python package psutil overlap_df has length 190, head=
   trip_list_id_num person_id person_trip_id  trace  pathnum_x  linknum_x  link_prop_x  pathlen_x_y_scale        PS
0                 1    Tuffie              1   True          0          0     0.333333                1.0  0.333333
1                 1    Tuffie              1   True          0          1     0.333333                1.0  0.333333
2                 1    Tuffie              1   True          0          2     0.333333                1.0  0.333333
3                 2   Rameses              1  False          0          0     0.333333                1.0  0.333333
4                 2   Rameses              1  False          0          1     0.333333                1.0  0.333333
2017-05-11 13:38:45 [DEBUG/MainProcess] PathSize min=0.433333 max=1.000000
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() overlap_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum_x   PS  ln_PS
0                 1    Tuffie              1  True          0  1.0    0.0
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() chunk_num 1: mem_use=Uknown; please install python package psutil full_overlap_df has length 42
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_overlap() complete: full_overlap_df head=
    trip_list_id_num          person_id person_trip_id  trace  pathnum     ln_PS
0                  1             Tuffie              1   True        0  0.000000
1                  2            Rameses              1  False        0  0.000000
2                  3     Michael Jordan              1  False        0  0.000000
3                  4   Jerry Stackhouse              1  False        0  0.000000
4                  5         Dean Smith              1  False        0  0.000000
5                  6       Vince Carter              1  False        0  0.000000
6                  7     Antown Jamison              1  False        0  0.000000
7                  8      Serge Zwikker              1  False        0  0.000000
8                  9     Dante Calabria              1  False        0  0.000000
9                 10  Shammond Williams              1  False        0  0.000000
10                11           Mrs. Wuf              1  False        0 -0.836248
11                11           Mrs. Wuf              1  False        1 -0.310155
12                11           Mrs. Wuf              1  False        2 -0.836248
13                12      Marcus Melvin              1  False        0 -0.836248
14                12      Marcus Melvin              1  False        1 -0.310155
15                12      Marcus Melvin              1  False        2 -0.836248
16                13      Archie Miller              1  False        0 -0.836248
17                13      Archie Miller              1  False        1 -0.310155
18                13      Archie Miller              1  False        2 -0.836248
19                14       Julius Hodge              1  False        0 -0.836248
20                14       Julius Hodge              1  False        1 -0.310155
21                14       Julius Hodge              1  False        2 -0.836248
22                15     Illian Evtimov              1  False        0 -0.836248
23                15     Illian Evtimov              1  False        1 -0.310155
24                15     Illian Evtimov              1  False        2 -0.836248
25                16   Scooter Sherrill              1  False        0 -0.836248
26                16   Scooter Sherrill              1  False        1 -0.310155
27                16   Scooter Sherrill              1  False        2 -0.836248
28                17        Josh Powell              1  False        0 -0.836248
29                17        Josh Powell              1  False        1 -0.310155
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_cost: cost_path_df trace
   trip_list_id_num person_id person_trip_id trace  pathnum  sim_cost
0                 1    Tuffie              1  True        0      36.0
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
   bump_iter         chosen                                          description  pathdir pathmode  pathnum person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0  True                 1            0      36.0    0.0
2017-05-11 13:38:45 [DEBUG/MainProcess] calculate_cost: pathset_paths_df trace
   bump_iter         chosen                                          description  pathdir pathmode  pathnum person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0  True                 1            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:45 [INFO/MainProcess]   Step 4. Choose a path for each passenger from their pathset
2017-05-11 13:38:45 [INFO/MainProcess]           Rejecting 0 previously chosen paths for huge costs
2017-05-11 13:38:45 [DEBUG/MainProcess] rejected_paths head(20): 
Empty DataFrame
Columns: [bump_iter, chosen, description, pathdir, pathmode, pathnum, person_id, person_trip_id, pf_cost, pf_fare, pf_initcost, pf_initfare, pf_iteration, pf_probability, trace, trip_list_id_num, missed_xfer, sim_cost, ln_PS, logsum_component, logsum, probability]
Index: []
2017-05-11 13:38:45 [INFO/MainProcess]           Have     26 total passenger-trips, with     26 chosen paths,      0 fully rejected and      0 needing a choice
2017-05-11 13:38:45 [INFO/MainProcess]   Step 5. Put passenger paths on transit vehicles to get vehicle boards/alights/load and assess capacity constraints
2017-05-11 13:38:45 [INFO/MainProcess]   Step 5.1 Put passengers on transit vehicles.
2017-05-11 13:38:45 [DEBUG/MainProcess] veh_loaded_df with onboard>0: (showing head)
    trip_id_num  stop_sequence        arrival_time      departure_time  shape_dist_traveled stop_id trip_id  arrival_time_min  departure_time_min  stop_id_num  original_travel_time  travel_time  travel_time_sec  dwell_time  dwell_time_sec direction_id route_id service_id vehicle_name  seated_capacity  standing_capacity  max_speed  acceleration  deceleration                   dwell_formula  capacity  max_speed_fps route_long_name route_short_name  route_type       mode  mode_num mode_type  route_id_num  max_stop_seq trip_departure_time  friction  standees  overcap  msa_boards  msa_alights  msa_onboard  msa_friction  msa_standees  msa_overcap  overcap_frac  boards  alights  onboard
0             1              1 2016-01-01 07:25:41 2016-01-01 07:26:00                  0.0      B2      G4        445.683333               446.0            6              00:08:00     00:08:00            480.0    00:00:19            19.0            1    Green        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3             2 2016-01-01 07:26:00      11.0         3       -2         0.0          0.0          0.0           0.0           0.0         -1.0     -0.250000       8        0        8
2             2              1 2016-01-01 07:19:47 2016-01-01 07:20:00                  0.0      B2      G3        439.783333               440.0            6              00:08:00     00:08:00            480.0    00:00:13            13.0            1    Green        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667     Route Green            Green           3  local_bus       301   transit             3             2 2016-01-01 07:20:00       0.0         0       -5         0.0          0.0          0.0           0.0           0.0         -1.0     -1.000000       5        0        5
8             5              1 2016-01-01 07:17:51 2016-01-01 07:18:00                  0.0      B1      R2        437.850000               438.0            5              00:06:00     00:06:00            360.0    00:00:09             9.0            1      Red        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667       Route Red              Red           3  local_bus       301   transit             4             2 2016-01-01 07:18:00       0.0         0       -7         0.0          0.0          0.0           0.0           0.0         -1.0     -2.333333       3        0        3
12            7              1 2016-01-01 07:03:41 2016-01-01 07:04:00                  0.0       A      B2        423.683333               424.0            1              00:08:00     00:08:00            480.0    00:00:19            19.0            1     Blue        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667      Route Blue             Blue           3  local_bus       301   transit             1             2 2016-01-01 07:04:00      11.0         3       -2         0.0          0.0          0.0           0.0           0.0         -1.0     -0.250000       8        0        8
14            8              1 2016-01-01 07:09:41 2016-01-01 07:10:00                  0.0       A      B3        429.683333               430.0            1              00:08:00     00:08:00            480.0    00:00:19            19.0            1     Blue        TTA          bus                5                  5         25           3.4           4.0  3 + 2*[boards] + 1.5*[alights]        10      36.666667      Route Blue             Blue           3  local_bus       301   transit             1             2 2016-01-01 07:10:00      11.0         3       -2         0.0          0.0          0.0           0.0           0.0         -1.0     -0.250000       8        0        8
2017-05-11 13:38:45 [DEBUG/MainProcess] after putting passengers on vehicles, veh_loaded_df with onboard.head(30) = 
   route_id trip_id  stop_sequence stop_id  capacity  boards  alights  onboard  overcap  overcap_frac
0     Green      G4              1      B2        10       8        0        8       -2     -0.250000
2     Green      G3              1      B2        10       5        0        5       -5     -1.000000
8       Red      R2              1      B1        10       3        0        3       -7     -2.333333
12     Blue      B2              1       A        10       8        0        8       -2     -0.250000
14     Blue      B3              1       A        10       8        0        8       -2     -0.250000
16   Orange      O1              1       E        10      10        0       10        0      0.000000
2017-05-11 13:38:45 [INFO/MainProcess]   Step 5.2 Capacity constraints on transit vehicles.
2017-05-11 13:38:45 [INFO/MainProcess]           Bumping one at a time? false
2017-05-11 13:38:45 [DEBUG/MainProcess] pathset_links_df.head(20)=
           person_id person_trip_id  trip_list_id_num  pathnum  linknum route_id trip_id           pf_A_time A_id  A_id_num  A_seq          new_A_time  overcap  overcap_frac board_state  bump_iter         chosen
0             Tuffie              1                 1        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
1             Tuffie              1                 1        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
2             Tuffie              1                 1        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
3            Rameses              1                 2        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
4            Rameses              1                 2        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
5            Rameses              1                 2        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
6     Michael Jordan              1                 3        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
7     Michael Jordan              1                 3        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
8     Michael Jordan              1                 3        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
9   Jerry Stackhouse              1                 4        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
10  Jerry Stackhouse              1                 4        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
11  Jerry Stackhouse              1                 4        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
12        Dean Smith              1                 5        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
13        Dean Smith              1                 5        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
14        Dean Smith              1                 5        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
15      Vince Carter              1                 6        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
16      Vince Carter              1                 6        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
17      Vince Carter              1                 6        0        2      NaN     NaN 2016-01-01 07:22:00    F         4     -1 2016-01-01 07:22:00      NaN           NaN         NaN        NaN  iter1.01 sim0
18    Antown Jamison              1                 7        0        0      NaN     NaN 2016-01-01 07:08:00    O         9     -1 2016-01-01 07:08:00      NaN           NaN         NaN        NaN  iter1.01 sim0
19    Antown Jamison              1                 7        0        1   Orange      O1 2016-01-01 07:10:00    E         3      1 2016-01-01 07:10:00      0.0           0.0     boarded        NaN  iter1.01 sim0
2017-05-11 13:38:45 [DEBUG/MainProcess] load_passengers_on_vehicles_with_cap() 0 vehicle trip/stops over capacity: (showing head)
Empty DataFrame
Columns: [route_id, trip_id, stop_sequence, stop_id, capacity, boards, alights, onboard, overcap, overcap_frac]
Index: []
2017-05-11 13:38:45 [INFO/MainProcess]           No over-capacity vehicles
2017-05-11 13:38:45 [DEBUG/MainProcess] Bump_wait_df:
            pf_A_time  pf_A_time_min  stop_id_num  stop_sequence trip_id  trip_id_num
0 2016-01-01 07:10:00          430.0            3              1      O1            9
2017-05-11 13:38:45 [INFO/MainProcess]   Step 6. Update dwell and travel times for transit vehicles
2017-05-11 13:38:45 [DEBUG/MainProcess] Trip.update_trip_times() trips_df has 20 rows
2017-05-11 13:38:45 [DEBUG/MainProcess] dwell_formula 3 + 2*[boards] + 1.5*[alights] has 20 rows
2017-05-11 13:38:45 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence  max_stop_seq next_does_stop next_is_last_stop
0            1              0             2           True             False
1            1              1             2           True              True
2            2              0             2           True             False
3            2              1             2           True              True
4            3              0             2          False             False

2017-05-11 13:38:45 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell
0            1              1 2016-01-01 07:26:00          00:08:19                  19.0          00:00:19
1            1              2 2016-01-01 07:26:00          00:08:34                  19.0          00:00:19
2            2              1 2016-01-01 07:20:00          00:08:13                  13.0          00:00:13
3            2              2 2016-01-01 07:20:00   00:08:23.500000                  13.0          00:00:13
4            3              1 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03

2017-05-11 13:38:45 [DEBUG/MainProcess] next_stop_df:
   trip_id_num  stop_sequence trip_departure_time  travel_dwell_cum  trip_first_dwell_sec  trip_first_dwell   trip_arrival_time        new_arrival_time
0            1              2 2016-01-01 07:26:00          00:08:19                  19.0          00:00:19 2016-01-01 07:25:41 2016-01-01 07:34:00.000
1            1              3 2016-01-01 07:26:00          00:08:34                  19.0          00:00:19 2016-01-01 07:25:41 2016-01-01 07:34:15.000
2            2              2 2016-01-01 07:20:00          00:08:13                  13.0          00:00:13 2016-01-01 07:19:47 2016-01-01 07:28:00.000
3            2              3 2016-01-01 07:20:00   00:08:23.500000                  13.0          00:00:13 2016-01-01 07:19:47 2016-01-01 07:28:10.500
4            3              2 2016-01-01 07:10:00          00:08:03                   3.0          00:00:03 2016-01-01 07:09:57 2016-01-01 07:18:00.000

2017-05-11 13:38:45 [DEBUG/MainProcess] Trips:update_trip_times() trips_df:
   trip_id  trip_id_num  stop_sequence        arrival_time          departure_time  max_speed_fps  acceleration  deceleration  seated_capacity  boards  alights  onboard  standees  friction does_stop next_does_stop next_is_last_stop  accel_secs  decel_secs  dwell_time_sec  travel_dwell_sec  travel_dwell_sec_cum    new_arrival_time
0       G4            1              1 2016-01-01 07:25:41 2016-01-01 07:26:00.000      36.666667           3.4           4.0                5       8        0        8         3      11.0      True           True              True         0.0         0.0            19.0             499.0                 499.0                 NaT
1       G4            1              2 2016-01-01 07:34:00 2016-01-01 07:34:15.000      36.666667           3.4           4.0                5       0        8        0         0       0.0      True            NaN               NaN         0.0         0.0            15.0              15.0                 514.0 2016-01-01 07:34:00
2       G3            2              1 2016-01-01 07:19:47 2016-01-01 07:20:00.000      36.666667           3.4           4.0                5       5        0        5         0       0.0      True           True              True         0.0         0.0            13.0             493.0                 493.0                 NaT
3       G3            2              2 2016-01-01 07:28:00 2016-01-01 07:28:10.500      36.666667           3.4           4.0                5       0        5        0         0       0.0      True            NaN               NaN         0.0         0.0            10.5              10.5                 503.5 2016-01-01 07:28:00
4       G2            3              1 2016-01-01 07:09:57 2016-01-01 07:10:00.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
5       G2            3              2 2016-01-01 07:18:00 2016-01-01 07:18:03.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:18:00
6       G1            4              1 2016-01-01 07:01:57 2016-01-01 07:02:00.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
7       G1            4              2 2016-01-01 07:10:00 2016-01-01 07:10:03.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:10:00
8       R2            5              1 2016-01-01 07:17:51 2016-01-01 07:18:00.000      36.666667           3.4           4.0                5       3        0        3         0       0.0      True           True              True         0.0         0.0             9.0             369.0                 369.0                 NaT
9       R2            5              2 2016-01-01 07:24:00 2016-01-01 07:24:07.500      36.666667           3.4           4.0                5       0        3        0         0       0.0      True            NaN               NaN         0.0         0.0             7.5               7.5                 376.5 2016-01-01 07:24:00
10      B1            6              1 2016-01-01 06:55:57 2016-01-01 06:56:00.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False          False              True         0.0         0.0             3.0             483.0                 483.0                 NaT
11      B1            6              2 2016-01-01 07:04:00 2016-01-01 07:04:03.000      36.666667           3.4           4.0                5       0        0        0         0       0.0     False            NaN               NaN         0.0         0.0             3.0               3.0                 486.0 2016-01-01 07:04:00
12      B2            7              1 2016-01-01 07:03:41 2016-01-01 07:04:00.000      36.666667           3.4           4.0                5       8        0        8         3      11.0      True           True              True         0.0         0.0            19.0             499.0                 499.0                 NaT
13      B2            7              2 2016-01-01 07:12:00 2016-01-01 07:12:15.000      36.666667           3.4           4.0                5       0        8        0         0       0.0      True            NaN               NaN         0.0         0.0            15.0              15.0                 514.0 2016-01-01 07:12:00
14      B3            8              1 2016-01-01 07:09:41 2016-01-01 07:10:00.000      36.666667           3.4           4.0                5       8        0        8         3      11.0      True           True              True         0.0         0.0            19.0             499.0                 499.0                 NaT

2017-05-11 13:38:45 [DEBUG/MainProcess] trips_df.dtypes=
trip_id_num                       int64
stop_sequence                     int64
arrival_time             datetime64[ns]
departure_time           datetime64[ns]
shape_dist_traveled             float64
stop_id                          object
trip_id                          object
arrival_time_min                float64
departure_time_min              float64
stop_id_num                       int64
original_travel_time    timedelta64[ns]
travel_time             timedelta64[ns]
travel_time_sec                 float64
dwell_time              timedelta64[ns]
dwell_time_sec                  float64
direction_id                     object
route_id                         object
service_id                       object
vehicle_name                     object
seated_capacity                   int64
standing_capacity                 int64
max_speed                         int64
acceleration                    float64
deceleration                    float64
dwell_formula                    object
capacity                          int64
max_speed_fps                   float64
route_long_name                  object
route_short_name                 object
route_type                        int64
mode                             object
mode_num                          int64
mode_type                        object
route_id_num                      int64
max_stop_seq                      int64
trip_departure_time      datetime64[ns]
friction                        float64
standees                          int64
overcap                           int64
msa_boards                      float64
msa_alights                     float64
msa_onboard                     float64
msa_friction                    float64
msa_standees                    float64
msa_overcap                     float64
overcap_frac                    float64
boards                            int64
alights                           int64
onboard                           int64
dtype: object

2017-05-11 13:38:45 [INFO/MainProcess]   No more path choices to make => Ending simulation loop
2017-05-11 13:38:45 [INFO/MainProcess] Appended pathset_paths_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathset_paths.csv
2017-05-11 13:38:45 [INFO/MainProcess] Appended pathset_links_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathset_links.csv
2017-05-11 13:38:45 [INFO/MainProcess] Appended chosen_links_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/chosenpaths_links.csv
2017-05-11 13:38:45 [INFO/MainProcess] Appended chosen_paths_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/chosenpaths_paths.csv
2017-05-11 13:38:45 [INFO/MainProcess] Appended veh_trips_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/veh_trips.csv
2017-05-11 13:38:45 [INFO/MainProcess] 
2017-05-11 13:38:45 [INFO/MainProcess]   Length of trip list:               26
2017-05-11 13:38:45 [INFO/MainProcess]   Number of pathsets found:          26
2017-05-11 13:38:45 [INFO/MainProcess]   ARRIVED PASSENGERS:                26
2017-05-11 13:38:45 [INFO/MainProcess]   MISSED PASSENGERS:                  0
2017-05-11 13:38:45 [INFO/MainProcess]   CAPACITY GAP:                 0.00000
2017-05-11 13:38:45 [INFO/MainProcess] ***************************** ITERATION 1 PATHFINDING ITERATION 3 **************************************
2017-05-11 13:38:45 [INFO/MainProcess] **************************** GENERATING PATHS **********************************************************
2017-05-11 13:38:45 [INFO/MainProcess] Finding paths for trips for those that haven't arrived yet
2017-05-11 13:38:45 [DEBUG/MainProcess] filter_trip_list_to_not_arrived(): trip_list_df len=26 head()=
          person_id person_trip_id o_taz d_taz     mode     purpose      departure_time        arrival_time time_target   vot ID_dupes  trip_list_id_num  arrival_time_min  departure_time_min     hh_id  person_id_num  hh_vehicles  o_taz_num  d_taz_num transit_mode access_mode egress_mode outbound user_class  trace
0            Tuffie              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 1             480.0               420.0  Wolfpack             10          1.0          9         10      transit        walk        walk    False        all   True
1           Rameses              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 2             480.0               420.0   Tarheel              1          NaN          9         10      transit        walk        walk    False        all  False
2    Michael Jordan              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 3             480.0               420.0   Tarheel              2          NaN          9         10      transit        walk        walk    False        all  False
3  Jerry Stackhouse              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 4             480.0               420.0   Tarheel              3          NaN          9         10      transit        walk        walk    False        all  False
4        Dean Smith              1     O     D  transit  basketball 2016-01-01 07:00:00 2016-01-01 08:00:00   departure  10.0    False                 5             480.0               420.0   Tarheel              4          NaN          9         10      transit        walk        walk    False        all  False
2017-05-11 13:38:45 [DEBUG/MainProcess] filter_trip_list_to_not_arrived(): pathset_paths_df len=42 head()=
   bump_iter         chosen                                          description  pathdir pathmode  pathnum         person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0            Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0   True                 1            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
1        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0           Rameses              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 2            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Michael Jordan              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 3            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
3        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0  Jerry Stackhouse              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 4            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
4        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0        Dean Smith              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 5            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:45 [DEBUG/MainProcess] pathset_paths_df.dtypes
2017-05-11 13:38:45 [DEBUG/MainProcess] filter_trip_list_to_not_arrived(): trip_list_df_to_return len=0 head()=
Empty DataFrame
Columns: [person_id, person_trip_id, o_taz, d_taz, mode, purpose, departure_time, arrival_time, time_target, vot, ID_dupes, trip_list_id_num, arrival_time_min, departure_time_min, hh_id, person_id_num, hh_vehicles, o_taz_num, d_taz_num, transit_mode, access_mode, egress_mode, outbound, user_class, trace]
Index: []
2017-05-11 13:38:45 [INFO/MainProcess] Finding pathsets for 0 trips
2017-05-11 13:38:45 [DEBUG/MainProcess] setup_passenger_pathsets(): pathlist and linklist constructed
2017-05-11 13:38:45 [DEBUG/MainProcess] setup_passenger_pathsets(): pathset_paths_df(0) and pathset_links_df(0) dataframes constructed
2017-05-11 13:38:45 [DEBUG/MainProcess] Have 0 links with no mode number set
2017-05-11 13:38:45 [DEBUG/MainProcess] setup_passenger_pathsets(): pathset_paths_df and pathset_links_df dataframes constructed
2017-05-11 13:38:45 [INFO/MainProcess] No rows of pathset_paths_df dataframe to write to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathsfound_paths.csv
2017-05-11 13:38:45 [INFO/MainProcess] No rows of pathset_links_df dataframe to write to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/pathsfound_links.csv
2017-05-11 13:38:45 [INFO/MainProcess] No rows of performance_df dataframe to write to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/ft_output_performance.csv
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets():     pathset_paths_df len=42 head=
   bump_iter         chosen                                          description  pathdir pathmode  pathnum         person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  trace  trip_list_id_num  missed_xfer  sim_cost  ln_PS  logsum_component        logsum  probability
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0            Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0   True                 1            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
1        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0           Rameses              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 2            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0    Michael Jordan              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 3            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
3        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0  Jerry Stackhouse              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 4            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
4        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D        2  transit        0        Dean Smith              1     36.0      0.0         36.0          0.0          1.01             1.0  False                 5            0      36.0    0.0      1.522998e-08  1.522998e-08          1.0
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets(): new_pathset_paths_df len=0 head=
Empty DataFrame
Columns: [person_id, person_trip_id, trip_list_id_num, trace, pathdir, pathmode, pf_iteration, pathnum, pf_cost, pf_fare, pf_probability, pf_initcost, pf_initfare, description]
Index: []
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets() dtypes=
bump_iter            float64
chosen              category
description           object
pathdir                int64
pathmode              object
pathnum                int64
person_id             object
person_trip_id        object
pf_cost              float64
pf_fare              float64
pf_initcost          float64
pf_initfare          float64
pf_iteration         float64
pf_probability       float64
trace                   bool
trip_list_id_num       int64
missed_xfer            int64
sim_cost             float64
ln_PS                float64
logsum_component     float64
logsum               float64
probability          float64
dtype: object
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets():     pathset_links_df len=190 head=
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq board_state  bump_iter linkmode  linknum         mode  mode_num  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id split_first  trace trip_id  trip_id_num  trip_list_id_num         chosen  alight_delay_min          new_A_time          new_B_time  new_linktime  new_waittime  missed_xfer  fare fare_period from_fare_period transfer_fare_type transfer_fare free_transfer  distance  sim_cost          board_time  overcap  overcap_frac         alight_time
0    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True   True     NaN          NaN                 1  iter1.01 sim0               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0                 NaT      NaN           NaN                 NaT
1    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True   True      O1          9.0                 1  iter1.01 sim0               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2    F         4  35.781090 -78.659859     -1    D        10        NaN        NaN     -1         NaN        NaN   egress        2  walk_egress     201.0        0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN        True   True     NaN          NaN                 1  iter1.01 sim0               0.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT            0     0        None             None               None          None          None  0.500000      20.0                 NaT      NaN           NaN                 NaT
3    O         9        NaN        NaN     -1    E         3  35.784089 -78.669354     -1         NaN        NaN   access        0  walk_access     101.0        0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN        True  False     NaN          NaN                 2  iter1.01 sim0               0.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT            0     0        None             None               None          None          None  0.100000       4.0                 NaT      NaN           NaN                 NaT
4    E         3  35.784089 -78.669354      1    F         4  35.781090 -78.659859      2     boarded        NaN  transit        1    local_bus     301.0        0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange        True  False      O1          9.0                 2  iter1.01 sim0               0.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days            0     0        None             None               None          None          None  0.571158      12.0 2016-01-01 07:10:00      0.0           0.0 2016-01-01 07:22:00
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets(): new_pathset_links_df len=0 head=
Empty DataFrame
Columns: [person_id, person_trip_id, trip_list_id_num, trace, pf_iteration, pathnum, linkmode, A_id_num, B_id_num, A_seq, B_seq, pf_A_time, pf_B_time, pf_linktime, pf_linkfare, pf_linkcost, pf_linkdist, pf_waittime, linknum, A_id, B_id, A_lat, A_lon, B_lat, B_lon, trip_id_num, trip_id, route_id, mode_num, mode]
Index: []
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets() dtypes=
A_id                           object
A_id_num                        int64
A_lat                         float64
A_lon                         float64
A_seq                           int64
B_id                           object
B_id_num                        int64
B_lat                         float64
B_lon                         float64
B_seq                           int64
board_state                  category
bump_iter                     float64
linkmode                       object
linknum                         int64
mode                           object
mode_num                      float64
pathnum                         int64
person_id                      object
person_trip_id                 object
pf_A_time              datetime64[ns]
pf_B_time              datetime64[ns]
pf_iteration                  float64
pf_linkcost                   float64
pf_linkdist                   float64
pf_linkfare                   float64
pf_linktime           timedelta64[ns]
pf_waittime           timedelta64[ns]
route_id                       object
split_first                      bool
trace                            bool
trip_id                        object
trip_id_num                   float64
trip_list_id_num                int64
chosen                       category
alight_delay_min              float64
new_A_time             datetime64[ns]
new_B_time             datetime64[ns]
new_linktime          timedelta64[ns]
new_waittime          timedelta64[ns]
missed_xfer                     int64
fare                            int64
fare_period                    object
from_fare_period               object
transfer_fare_type             object
transfer_fare                  object
free_transfer                  object
distance                      float64
sim_cost                      float64
board_time             datetime64[ns]
overcap                       float64
overcap_frac                  float64
alight_time            datetime64[ns]
dtype: object
2017-05-11 13:38:45 [DEBUG/MainProcess] merge_pathsets():     pathfind_trip_list_df len=0 head=
Empty DataFrame
Columns: [person_id, person_trip_id, o_taz, d_taz, mode, purpose, departure_time, arrival_time, time_target, vot, ID_dupes, trip_list_id_num, arrival_time_min, departure_time_min, hh_id, person_id_num, hh_vehicles, o_taz_num, d_taz_num, transit_mode, access_mode, egress_mode, outbound, user_class, trace]
Index: []
2017-05-11 13:38:45 [DEBUG/MainProcess] Filtered to 42 pathset_paths_df rows
2017-05-11 13:38:45 [DEBUG/MainProcess] Concatenated so pathset_paths_df has 42 rows
2017-05-11 13:38:45 [DEBUG/MainProcess] Filtered to 190 pathset_links_df rows
2017-05-11 13:38:45 [DEBUG/MainProcess] Concatenated so pathset_links_df has 190 rows
2017-05-11 13:38:46 [DEBUG/MainProcess] merge_pathsets():     pathset_paths_df len=42 head=
   bump_iter         chosen                                          description  ln_PS        logsum  logsum_component  missed_xfer  pathdir pathmode  pathnum         person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  probability  sim_cost  trace  trip_list_id_num
0        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0      2.0  transit      0.0            Tuffie              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0   True               1.0
1        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0      2.0  transit      0.0           Rameses              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False               2.0
2        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0      2.0  transit      0.0    Michael Jordan              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False               3.0
3        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0      2.0  transit      0.0  Jerry Stackhouse              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False               4.0
4        NaN  iter1.01 sim0  O walk_access E local_bus Orange_O1 F walk_egress D    0.0  1.522998e-08      1.522998e-08            0      2.0  transit      0.0        Dean Smith              1     36.0      0.0         36.0          0.0          1.01             1.0          1.0      36.0  False               5.0
tail=
    bump_iter         chosen                                                                          description  ln_PS        logsum  logsum_component  missed_xfer  pathdir pathmode  pathnum           person_id person_trip_id  pf_cost  pf_fare  pf_initcost  pf_initfare  pf_iteration  pf_probability  probability  sim_cost  trace  trip_list_id_num
37        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    0.0  2.289735e-11      2.289735e-11            0      2.0  transit      0.0        Bobby Hurley              1     49.0      0.0         49.0          0.0          1.02             1.0          1.0      49.0  False              22.0
38        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    0.0  2.289735e-11      2.289735e-11            0      2.0  transit      0.0  Christian Laettner              1     49.0      0.0         49.0          0.0          1.02             1.0          1.0      49.0  False              23.0
39        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    0.0  2.289735e-11      2.289735e-11            0      2.0  transit      0.0       Carlos Boozer              1     49.0      0.0         49.0          0.0          1.02             1.0          1.0      49.0  False              24.0
40        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    0.0  2.289735e-11      2.289735e-11            0      2.0  transit      0.0     Jayson Williams              1     49.0      0.0         49.0          0.0          1.02             1.0          1.0      49.0  False              25.0
41        NaN  iter1.02 sim0  O walk_access A local_bus Blue_B3 B transfer B2 local_bus Green_G4 C2 walk_egress D    0.0  2.289735e-11      2.289735e-11            0      2.0  transit      0.0       Shane Battier              1     49.0      0.0         49.0          0.0          1.02             1.0          1.0      49.0  False              26.0
2017-05-11 13:38:46 [DEBUG/MainProcess] merge_pathsets():     pathset_links_df len=190 head=
  A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq  alight_delay_min         alight_time board_state          board_time  bump_iter         chosen  distance  fare fare_period free_transfer from_fare_period linkmode  linknum  missed_xfer         mode  mode_num          new_A_time          new_B_time  new_linktime  new_waittime  overcap  overcap_frac  pathnum person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id  sim_cost split_first  trace transfer_fare transfer_fare_type trip_id  trip_id_num  trip_list_id_num
0    O       9.0        NaN        NaN   -1.0    E       3.0  35.784089 -78.669354   -1.0               0.0                 NaT         NaN                 NaT        NaN  iter1.01 sim0  0.100000   0.0        None          None             None   access      0.0          0.0  walk_access     101.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT      NaN           NaN      0.0    Tuffie              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True   True          None               None     NaN          NaN               1.0
1    E       3.0  35.784089 -78.669354    1.0    F       4.0  35.781090 -78.659859    2.0               0.0 2016-01-01 07:22:00     boarded 2016-01-01 07:10:00        NaN  iter1.01 sim0  0.571158   0.0        None          None             None  transit      1.0          0.0    local_bus     301.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days      0.0           0.0      0.0    Tuffie              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange      12.0        True   True          None               None      O1          9.0               1.0
2    F       4.0  35.781090 -78.659859   -1.0    D      10.0        NaN        NaN   -1.0               0.0                 NaT         NaN                 NaT        NaN  iter1.01 sim0  0.500000   0.0        None          None             None   egress      2.0          0.0  walk_egress     201.0 2016-01-01 07:22:00 2016-01-01 07:32:00      00:10:00           NaT      NaN           NaN      0.0    Tuffie              1 2016-01-01 07:22:00 2016-01-01 07:32:00          1.01         20.0     0.500000          0.0     00:10:00          NaT      NaN      20.0        True   True          None               None     NaN          NaN               1.0
3    O       9.0        NaN        NaN   -1.0    E       3.0  35.784089 -78.669354   -1.0               0.0                 NaT         NaN                 NaT        NaN  iter1.01 sim0  0.100000   0.0        None          None             None   access      0.0          0.0  walk_access     101.0 2016-01-01 07:08:00 2016-01-01 07:10:00      00:02:00           NaT      NaN           NaN      0.0   Rameses              1 2016-01-01 07:08:00 2016-01-01 07:10:00          1.01          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True  False          None               None     NaN          NaN               2.0
4    E       3.0  35.784089 -78.669354    1.0    F       4.0  35.781090 -78.659859    2.0               0.0 2016-01-01 07:22:00     boarded 2016-01-01 07:10:00        NaN  iter1.01 sim0  0.571158   0.0        None          None             None  transit      1.0          0.0    local_bus     301.0 2016-01-01 07:10:00 2016-01-01 07:22:00      00:12:00        0 days      0.0           0.0      0.0   Rameses              1 2016-01-01 07:10:00 2016-01-01 07:22:00          1.01         12.0     0.571158          0.0     00:12:00       0 days   Orange      12.0        True  False          None               None      O1          9.0               2.0
tail=
    A_id  A_id_num      A_lat      A_lon  A_seq B_id  B_id_num      B_lat      B_lon  B_seq  alight_delay_min         alight_time board_state          board_time  bump_iter         chosen  distance  fare fare_period free_transfer from_fare_period  linkmode  linknum  missed_xfer         mode  mode_num          new_A_time          new_B_time  new_linktime  new_waittime  overcap  overcap_frac  pathnum      person_id person_trip_id           pf_A_time           pf_B_time  pf_iteration  pf_linkcost  pf_linkdist  pf_linkfare  pf_linktime  pf_waittime route_id  sim_cost split_first  trace transfer_fare transfer_fare_type trip_id  trip_id_num  trip_list_id_num
185    O       9.0        NaN        NaN   -1.0    A       1.0  35.782796 -78.670429   -1.0               0.0                 NaT         NaN                 NaT        NaN  iter1.02 sim0  0.200000   0.0        None          None             None    access      0.0          0.0  walk_access     101.0 2016-01-01 07:06:00 2016-01-01 07:10:00      00:04:00           NaT      NaN           NaN      0.0  Shane Battier              1 2016-01-01 07:06:00 2016-01-01 07:10:00          1.02          8.0     0.200000          0.0     00:04:00          NaT      NaN       8.0        True  False          None               None     NaN          NaN              26.0
186    A       1.0  35.782796 -78.670429    1.0    B       2.0  35.781325 -78.666964    2.0               0.0 2016-01-01 07:18:00  board_easy 2016-01-01 07:10:00        NaN  iter1.02 sim0  0.219219   0.0        None          None             None   transit      1.0          0.0    local_bus     301.0 2016-01-01 07:10:00 2016-01-01 07:18:00      00:08:00        0 days     -2.0         -0.25      0.0  Shane Battier              1 2016-01-01 07:10:00 2016-01-01 07:18:00          1.02          8.0     0.219219          0.0     00:08:00       0 days     Blue       8.0        True  False          None               None      B3          8.0              26.0
187    B       2.0  35.781325 -78.666964   -1.0   B2       6.0  35.779053 -78.667243   -1.0               0.0                 NaT         NaN                 NaT        NaN  iter1.02 sim0  0.400000   0.0        None          None             None  transfer      2.0          0.0     transfer       1.0 2016-01-01 07:18:00 2016-01-01 07:26:00      00:08:00           NaT      NaN           NaN      0.0  Shane Battier              1 2016-01-01 07:18:00 2016-01-01 07:26:00          1.02         21.0     0.400000          0.0     00:08:00          NaT      NaN      21.0        True  False          None               None     NaN          NaN              26.0
188   B2       6.0  35.779053 -78.667243    1.0   C2       7.0  35.779584 -78.661572    2.0               0.0 2016-01-01 07:34:00  board_easy 2016-01-01 07:26:00        NaN  iter1.02 sim0  0.320010   0.0        None          None             None   transit      3.0          0.0    local_bus     301.0 2016-01-01 07:26:00 2016-01-01 07:34:00      00:08:00        0 days     -2.0         -0.25      0.0  Shane Battier              1 2016-01-01 07:26:00 2016-01-01 07:34:00          1.02          8.0     0.320010          0.0     00:08:00       0 days    Green       8.0        True  False          None               None      G4          1.0              26.0
189   C2       7.0  35.779584 -78.661572   -1.0    D      10.0        NaN        NaN   -1.0               0.0                 NaT         NaN                 NaT        NaN  iter1.02 sim0  0.100000   0.0        None          None             None    egress      4.0          0.0  walk_egress     201.0 2016-01-01 07:34:00 2016-01-01 07:36:00      00:02:00           NaT      NaN           NaN      0.0  Shane Battier              1 2016-01-01 07:34:00 2016-01-01 07:36:00          1.02          4.0     0.100000          0.0     00:02:00          NaT      NaN       4.0        True  False          None               None     NaN          NaN              26.0
2017-05-11 13:38:46 [INFO/MainProcess] Appended veh_trips_df dataframe to /Users/elizabeth/Documents/urbanlabs/MTC/SHRP2/tutorial/not-segmented-output/veh_trips.csv
2017-05-11 13:38:46 [INFO/MainProcess] 
2017-05-11 13:38:46 [INFO/MainProcess]   Length of trip list:               26
2017-05-11 13:38:46 [INFO/MainProcess]   Number of pathsets found:          26
2017-05-11 13:38:46 [INFO/MainProcess]   ARRIVED PASSENGERS:                26
2017-05-11 13:38:46 [INFO/MainProcess]   MISSED PASSENGERS:                  0
2017-05-11 13:38:46 [INFO/MainProcess]   CAPACITY GAP:                 0.00000
2017-05-11 13:38:46 [INFO/MainProcess] Successfully completed!
